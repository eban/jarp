<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2010-3-c</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://eban.github.io/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="201003b.html">
<link rel="next" href="201004a.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2010年3月下旬〜</p>
<hr>
<div>
<a href="201003b.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="201004a.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2010/03/21 start -->
<h2><a name="20100321" href="201003c.html#20100321">2010-03-21 (Sun)</a></h2>

<div class="entry1">
<h3><a name="201003211" title="201003211" href="201003c.html#201003211">■</a> 
いろいろと作業</h3>
<p>
【作業妨害用BGM】24時間聴けたら神【変則的選曲】を聴いていた。<br>
6時間程進んだ。

</p>
<!-- section end -->
</div>

<div class="entry0">
<h3><a name="201003212" title="201003212" href="201003c.html#201003212">■</a> 
Cygwin 1.7のutf-8環境</h3>
<p>
Cygwin 1.7のutf-8環境に戸惑う。<br>
昔Linuxでの設定を拝借した.zshrcにLANG=ja_JP.eucJPが残っていたのがまずくて、<br>
いろいろ日本語ファイル名を壊してしまった。<br>
元はnicovideo.jpにあるから復元は簡単だったんだけど、<br>
最中は簡単じゃなかった。LANGが影響するようになったとは！<br>
なんかいろいろと自動でUTF-8へ変換されるようだ。<br>
まずcygwinを起動したコンソールがUTF-8化されている。<br>
ls |nkf --guessしてみるとファイル名も自動でUTF-8になっている。<br>
cat utf-8.txtすると化けずにutf-8で書かれたテキストが表示される。<br>
cmd /c type utf-8.txtするとちゃんと化けるのでそういうttyになったってことだな。<br>


</p>
<!-- section end -->
</div>
<!-- 2010/03/21 end -->



<hr class="hide">
<!-- 2010/03/22 start -->
<h2><a name="20100322" href="201003c.html#20100322">2010-03-22 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201003221" title="201003221" href="201003c.html#201003221">■</a> 
夜中に気温急上昇</h3>
<p>
日付けも変わろうかという夜中に1時間で一気に7度近くも気温が上昇している(tenki.jp)。<br>
南風でこんなに上がるもんかな。<br>
<pre>
[さいたま市] 2010-03-20 17:00 気温21.0度 降水量0.0mm 南南西の風5m
[さいたま市] 2010-03-20 18:00 気温19.6度 降水量0.0mm 南南西の風6m
[さいたま市] 2010-03-20 19:00 気温19.5度 降水量0.0mm 南の風4m
[さいたま市] 2010-03-20 20:00 気温18.2度 降水量0.0mm 南西の風3m
[さいたま市] 2010-03-20 21:00 気温14.9度 降水量0.0mm 北の風1m
[さいたま市] 2010-03-20 22:00 気温14.2度 降水量0.0mm 北北西の風2m
[さいたま市] 2010-03-20 23:00 気温13.4度 降水量0.0mm 西北西の風2m
[さいたま市] 2010-03-21 00:00 気温20.2度 降水量0.0mm 南の風5m
[さいたま市] 2010-03-21 01:00 気温20.8度 降水量0.0mm 南の風6m
[さいたま市] 2010-03-21 02:00 気温21.0度 降水量0.0mm 南の風6m
[さいたま市] 2010-03-21 03:00 気温21.6度 降水量0.0mm 南南西の風8m
[さいたま市] 2010-03-21 04:00 気温19.4度 降水量0.0mm 南南西の風14m
[さいたま市] 2010-03-21 05:00 気温18.3度 降水量0.0mm 南南西の風16m
[さいたま市] 2010-03-21 06:00 気温17.4度 降水量0.0mm 南南西の風9m
[さいたま市] 2010-03-21 07:00 気温14.1度 降水量0.0mm 北西の風6m
[さいたま市] 2010-03-21 08:00 気温13.8度 降水量1.0mm 北北西の風4m
</pre>

</p>
<!-- section end -->
</div>

<div class="entry0">
<h3><a name="201003222" title="201003222" href="201003c.html#201003222">■</a> 
日記復活に向けて</h3>
<p>
そろそろ日記だけでも復活させようとnsmmの残骸を集めてCygwin上で実行してみたら動かない。<br>
試行錯誤したらstrftimeの%Oが原因だったわけだが、本家ではそんなとこはすでに修正済みだったわけで。<br>
もう5年も前の話だ。RSS対応までしてるらしい。<br>
それはそれとしてまだ罠があって、スクリプトをUTF-8にしないとだめ。<br>
もしくはLANG=ja_JP.eucJPとする。いや罠じゃないな。ちゃんとREADMEに書いてあるし。<br>
本家版だと行末の~で改行が効かないな。どうして？doc/history.txtを見ると仕様変更とある。<br>
いやいやこれ変えられちゃ困るのよ。過去を改竄できないじゃない。
</p>
<!-- section end -->
</div>
<!-- 2010/03/22 end -->



<hr class="hide">
<!-- 2010/03/23 start -->
<h2><a name="20100323" href="201003c.html#20100323">2010-03-23 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201003231" title="201003231" href="201003c.html#201003231">■</a> 
やっと日記復活</h3>
<p>
18日の分まで更新した。一度に上げるのも面倒なので徐々に。<br>
~の件はどうせRSS生成で後処理してるのでそっちで対応することにした。

</p>
<!-- section end -->
</div>

<div class="entry0">
<h3><a name="201003232" title="201003232" href="201003c.html#201003232">■</a> 
VirtualBoxのスクリーンショット</h3>
<p>
VirtualBoxのスクリーンショットを取りたくてAlt+ScreenしてGIMPに貼り付けてみたが、<br>
なぜかコピペされない。<br>
どっちにしても枚数も多くてコピペじゃやってられないので、<br>
専用のソフト(たしかキャプラとかいう名前)をダウンロードしてみたらこっちは問題なし。<br>
まあ、よしとしよう。

</p>
<!-- section end -->
</div>
<!-- 2010/03/23 end -->



<hr class="hide">
<!-- 2010/03/24 start -->
<h2><a name="20100324" href="201003c.html#20100324">2010-03-24 (Wed)</a></h2>

<div class="entry1">
<h3><a name="201003241" title="201003241" href="201003c.html#201003241">■</a> 
GNU findの-deleteオプション</h3>
<p>
find ... | xargs rmってパターンって多いよね。<br>
いっそのことfindに-rmオプションでも新設したらどうなんだいと思ったら、<br>
すでに-deleteオプションが存在してたよ。なんてこったい。<br>
これで-execはどうのこうのとか説明しなくて済むよ。
</p>
<!-- section end -->
</div>
<!-- 2010/03/24 end -->



<hr class="hide">
<!-- 2010/03/25 start -->
<h2><a name="20100325" href="201003c.html#20100325">2010-03-25 (Thu)</a></h2>

<div class="entry1">
<h3><a name="201003251" title="201003251" href="201003c.html#201003251">■</a> 
日記の日付</h3>
<p>
牛丼PCが元気だったころはEmacsのelispで今日の日記を書くと、<br>
勝手に日付つきのファイル名ができていたのでこの現在の状況でも欲しい。<br>
<pre>
  vi ~/jarp/diary/$(date -d '-6 hour' +&quot;%Y/d%Y%m%d.hnf&quot;)
</pre>
</p>
<p>
こんな感じで実行してる。<br>
-d '-6 hour'とすることで午前6時までは日付は変わらないという意味になる。<br>
これは地味に便利。
</p>
<!-- section end -->
</div>
<!-- 2010/03/25 end -->



<hr class="hide">
<!-- 2010/03/26 start -->
<h2><a name="20100326" href="201003c.html#20100326">2010-03-26 (Fri)</a></h2>

<div class="entry1">
<h3><a name="201003261" title="201003261" href="201003c.html#201003261">■</a> 
Cygwin 1.7.2に上げたら日記ががが</h3>
<p>
Cygwin 1.7.2に上げたらstrftimeが腐ってしまってnsmmが動かなくなった。
<pre>
% gawk 'BEGIN{print strftime(&quot;%Y&quot;)}'
2010
% gawk 'BEGIN{print strftime(&quot;%Y%s&quot;)}'

</pre>
</p>
<p>
%sが対応してないのはいいとしても、他を巻き込まなくてもいいじゃない。<br>
他に%o, %q, %vも同じ症状。
</p>
<!-- section end -->
</div>
<!-- 2010/03/26 end -->



<hr class="hide">
<!-- 2010/03/27 start -->
<h2><a name="20100327" href="201003c.html#20100327">2010-03-27 (Sat)</a></h2>

<div class="entry1">
<h3><a name="201003271" title="201003271" href="201003c.html#201003271">■</a> 
[PC] デスクトップPCが未だ起動せず</h3>
<p>
週末になったのでデスクトップPCの電源を入れてみたが、<br>
今回は立ち上がってくれない。先週の一撃でいよいよ止めを刺したのだろうか。<br>
まあ、ここまで来たら来週末まで待つことにする。<br>
それでだめならいよいよ買い替えだな。
</p>
<!-- section end -->
</div>
<!-- 2010/03/27 end -->



<hr class="hide">
<!-- 2010/03/28 start -->
<h2><a name="20100328" href="201003c.html#20100328">2010-03-28 (Sun)</a></h2>

<div class="entry1">
<h3><a name="201003281" title="201003281" href="201003c.html#201003281">■</a> 
[Perl] Perlのscalar contextのrange</h3>
<p>
某IRCでちょっとひっかかったので調べた。<br>
listだと思っていたが、rangeのほうだった。<br>
scalar contextでは真偽値的なものを返す。flipflopだな。<br>
範囲の最初で1から順にインクリメントされる。<br>
範囲の最後ではその印としてE0が追加される。<br>
範囲外は空文字。
<pre>
% seq 4 | perl -nle 'print &quot;$_:&quot;, scalar(2..3)'
1:
2:1
3:2E0
4:
</pre>
</p>
<p>
というわけで
<pre>
% perl -e 'print((&quot;aa&quot;..&quot;bb&quot;).&quot;\n&quot;);'
1E0
</pre>
</p>
<p>
となるのは&quot;aa&quot;も&quot;bb&quot;も真なので範囲の最初と最後になり、<br>
その結果1E0になる。
</p>
<!-- section end -->
</div>
<!-- 2010/03/28 end -->



<hr class="hide">
<!-- 2010/03/29 start -->
<h2><a name="20100329" href="201003c.html#20100329">2010-03-29 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201003291" title="201003291" href="201003c.html#201003291">■</a> 
awkでmarkdown</h3>
<p>
ぐぐってみると何個か見つかる。<br>
検索するときにどうしても無意識でmawkdown awkとか書いてしまうんだが、<br>
これでちゃんとmarkdown awkを検索してくるあたりがすごいな、ぐぐる。
</p>
<p>
いやいやそういうことじゃなくて、どれもちょっと癖があったりでなかなか面白い。
</p>
<!-- section end -->
</div>
<!-- 2010/03/29 end -->



<hr class="hide">
<!-- 2010/03/30 start -->
<h2><a name="20100330" href="201003c.html#20100330">2010-03-30 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201003301" title="201003301" href="201003c.html#201003301">■</a> 
<a href="http://www.sakura.ne.jp/news/archives/20100316-001.news">SAKURA Internet // 2010年03月16日 「さくらのレンタルサーバ」「さくらのメールボックス」「さくらのマネージドサーバ」サービス改定のお知らせ</a></h3>
<p>
さくらは放っておくとどんどん容量が増える。すばらしい。
</p>
<!-- section end -->
</div>
<!-- 2010/03/30 end -->



<hr class="hide">
<!-- 2010/03/31 start -->
<h2><a name="20100331" href="201003c.html#20100331">2010-03-31 (Wed)</a></h2>

<div class="entry1">
<h3><a name="201003311" title="201003311" href="201003c.html#201003311">■</a> 
<a href="http://github.com/micha/jsawk#readme">micha's jsawk at master - GitHub</a></h3>
<blockquote><p>
Jsawk is like awk, but for JSON. You work with an array of JSON objects read from stdin, filter them using JavaScript to produce a results array that is printed to stdout. You can use this as a filter to manipulate data from a REST JSON web service, for example, in a shell script. Also, you can suppress JSON output and use the built-in printing functions to translate your JSON input to other formats and send that to stdout, to be piped to other processes. You can load JavaScript libraries on the command line to increase your processing power, and other things.
</p></blockquote>
<!-- section end -->
</div>
<!-- 2010/03/31 end -->

<hr>
<div>
<a href="201003b.html">&lt;Prev(,)</a> | 
<a href="201004a.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
