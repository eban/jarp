<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2001-12-b</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://eban.github.io/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200112a.html">
<link rel="next" href="200112c.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2001年12月中旬〜</p>
<hr>
<div>
<a href="200112a.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200112c.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2001/12/11 start -->
<h2><a name="20011211" href="200112b.html#20011211">2001-12-11 (Tue)</a></h2>

<div class="entry1">
<h3><a name="200112111" title="200112111" href="200112b.html#200112111">■</a> 
Linux 2.4.17-pre8</h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112112" title="200112112" href="200112b.html#200112112">■</a> 
io.c slowness</h3>
<p>
ってなSubjectでメールが来た。

<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/27728">例のmswin32/mingw32版のgetsが遅い件</a>
を受けて、あのパッチをあてたmingw32版が欲しいってことらしい。
面倒なので1.8を待てと返事を出しとく。
</p>


<!-- section end -->
</div>
<!-- 2001/12/11 end -->



<hr class="hide">
<!-- 2001/12/12 start -->
<h2><a name="20011212" href="200112b.html#20011212">2001-12-12 (Wed)</a></h2>

<div class="entry1">
<h3><a name="200112121" title="200112121" href="200112b.html#200112121">■</a> 
Cygwin Package Contributors Guide</h3>
<p>
いつの間にか
<a href="http://cygwin.com/setup.html">Cygwin Package Contributors Guide</a>
というページができてる。
setup.exeが新しくなってsetup.iniのformatも変わったのか。
そろそろ対応させないといけないな。
</p>


<!-- section end -->
</div>
<!-- 2001/12/12 end -->



<hr class="hide">
<!-- 2001/12/13 start -->
<h2><a name="20011213" href="200112b.html#20011213">2001-12-13 (Thu)</a></h2>

<div class="entry1">
<h3><a name="200112131" title="200112131" href="200112b.html#200112131">■</a> 
<a href="http://p4w.sourceforge.net/">P4W</a></h3>
<p>
変化があった模様。
<a href="http://p4w.sourceforge.net/download.shtml">Download</a>
にP4W RuntimeとShell Consoleがある。
あ、File Manipulation UtilitieとText_File Utilitiesも増えてるな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112132" title="200112132" href="200112b.html#200112132">■</a> 
<a href="http://cygwin.com/ml/cygwin/2001-12/msg00670.html">msman - view MSDN docs as man pages</a></h3>
<p>
これはすごく便利だ。
</p>


<!-- section end -->
</div>
<!-- 2001/12/13 end -->



<hr class="hide">
<!-- 2001/12/14 start -->
<h2><a name="20011214" href="200112b.html#20011214">2001-12-14 (Fri)</a></h2>

<div class="entry1">
<h3><a name="200112141" title="200112141" href="200112b.html#200112141">■</a> 
Badtrans.B</h3>
<p>
しつこいなあ。まだ来るよ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112142" title="200112142" href="200112b.html#200112142">■</a> 
<a href="http://homepage1.nifty.com/~tetsu/ruby/diary/#13">ご提携の件</a></h3>
<p>
それって
<a href="http://cygwin.com/ml/cygwin/2001-12/msg00611.html">これ</a> だよね。
うちもダイレクトにも来てたりで、もううんざり。
</p>

<p>
今月はspamが非常に多い。1日2通平均で来てる。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112143" title="200112143" href="200112b.html#200112143">■</a> 
Linux 2.4.17-rc1</h3>
<p>
やはりクリスマスにリリースか？
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112144" title="200112144" href="200112b.html#200112144">■</a> 
cygwin-ruby16.dll.a</h3>
<p>
どうせならconfigure.inのほうをいじろうかな。
</p>


<!-- section end -->
</div>
<!-- 2001/12/14 end -->



<hr class="hide">
<!-- 2001/12/15 start -->
<h2><a name="20011215" href="200112b.html#20011215">2001-12-15 (Sat)</a></h2>

<div class="entry1">
<h3><a name="200112151" title="200112151" href="200112b.html#200112151">■</a> 
spam</h3>
<p>
今日は8通だ。全部海外から、しかも全部htmlだけってのも不思議だ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112152" title="200112152" href="200112b.html#200112152">■</a> 
John Roth</h3>
<p>
結局誰？XPな人のようだが、なぜdolt?全く読む気がないらしい。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112153" title="200112153" href="200112b.html#200112153">■</a> 
gcc -rdynamic</h3>
<p>
specsの*linkに書いてあるのか。-export-dynamicしてるだけだけど。
NetBSDにはないのかな？NetBSDは外にspecsを置いてないしな。
月曜日-dumpspecsしてみよう。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112154" title="200112154" href="200112b.html#200112154">■</a> 
クリスマス・イブRap</h3>
<p>
この時期に山下達郎がランキングに出てこないのはKICK THE CAN CREWのせいか？
</p>


<!-- section end -->
</div>
<!-- 2001/12/15 end -->



<hr class="hide">
<!-- 2001/12/16 start -->
<h2><a name="20011216" href="200112b.html#20011216">2001-12-16 (Sun)</a></h2>

<div class="entry1">
<h3><a name="200112161" title="200112161" href="200112b.html#200112161">■</a> 
optparse 0.8.6</h3>
<p>
雑感で気づく。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112162" title="200112162" href="200112b.html#200112162">■</a> 
-DLIBRUBY_SO=\&quot;cygwin-ruby16.dll\&quot;</h3>
<p>
これをconfig.hに閉じ込めたくなった。
そもそもなぜMakefileにあるかというとなぜだっけ？
</p>
<pre>
LIBRUBY_SO='$(RUBY_SO_NAME)'.dll
</pre>
<p>
だからだ。これはmakeじゃないと展開できない。
</p>
<pre>
LIBRUBY_SO='${RUBY_SO_NAME}'.dll
</pre>
<p>
とするか？でもこれだけじゃ全然足りない。
</p>
<pre>
ri_prefix=$program_prefix
ri_suffix=$program_suffix
RUBY_INSTALL_NAME=&quot;${ri_prefix}ruby${ri_suffix}&quot;
RUBY_SO_NAME=$target_os-'$(RUBY_INSTALL_NAME)'${MAJOR}${MINOR}
</pre>
<p>
となってるから切りがない。むずかしいな。
</p>


<!-- section end -->
</div>
<!-- 2001/12/16 end -->



<hr class="hide">
<!-- 2001/12/17 start -->
<h2><a name="20011217" href="200112b.html#20011217">2001-12-17 (Mon)</a></h2>

<div class="entry1">
<h3><a name="200112171" title="200112171" href="200112b.html#200112171">■</a> 
<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-dev/15476">Time.now + 1.5 (RangeError)</a></h3>
<p>
家に帰ってからakrさんに言われたことの意味に気づく。
time_tの範囲内に収まってるかどうかってことだったのか。
</p>
<pre>
if (f != (double)sec) {
</pre>
<p>
だと切り捨てられた時に困るので
</p>
<pre>
if (!((double)(sec - 1) &lt;= f &amp;&amp; f &lt;= (double)(sec + 1))) {
</pre>
<p>
って感じだとどうかなあ？あ、ド・モルガンの法則で
</p>
<pre>
if (f &lt; (double)(sec - 1) || (double)(sec + 1) &lt; f) {
</pre>
<p>
だな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112172" title="200112172" href="200112b.html#200112172">■</a> 
RubyUnit 0.5.0</h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112173" title="200112173" href="200112b.html#200112173">■</a> 
健康診断</h3>
<p>
明日は健康診断だから早く寝よう。
今日だけ早く寝ても関係ない気もするが。
</p>


<!-- section end -->
</div>
<!-- 2001/12/17 end -->



<hr class="hide">
<!-- 2001/12/18 start -->
<h2><a name="20011218" href="200112b.html#20011218">2001-12-18 (Tue)</a></h2>

<div class="entry1">
<h3><a name="200112181" title="200112181" href="200112b.html#200112181">■</a> 
界道編</h3>
<p>
買った。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112182" title="200112182" href="200112b.html#200112182">■</a> 
VMware</h3>
<p>
VISAカードがやっと来たので、for Linuxを買った。
てゆか、今日だよ切れる日は。ぎりぎりだ。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112183" title="200112183" href="200112b.html#200112183">■</a> 
健康診断</h3>
<p>
177cmになった。入社以来2cm成長してる。
</p>


<!-- section end -->
</div>
<!-- 2001/12/18 end -->



<hr class="hide">
<!-- 2001/12/19 start -->
<h2><a name="20011219" href="200112b.html#20011219">2001-12-19 (Wed)</a></h2>

<div class="entry1">
<h3><a name="200112191" title="200112191" href="200112b.html#200112191">■</a> 
<a href="http://sourceforge.net/project/showfiles.php?group_id=2435">MSYS</a></h3>
<p>
こんなのがあったのか。
MinGWにはshとかがないので、Cygwinが必要になったりするが、
これを使えばとりあえずconfigure,makeが可能になる？

<a href="http://www.geocrawler.com/redir-sf.php3?list=mingw-msys">mingw-msys ML</a>
を見るとそんなに簡単でもないようだ。
</p>

<p>
MSYSもCygwinがベースになっているようだけど、
作者はP4Wと同じEarnie Boydだったりで、どうなってるんだろう？
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112192" title="200112192" href="200112b.html#200112192">■</a> 
Linux 2.4.17-rc2</h3>
<p>
preempt patchはまだ出てなかったけど、-rc1をそのままあてた。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112193" title="200112193" href="200112b.html#200112193">■</a> 
News gateway</h3>
<p>
また止まっていたらしく、ruby-talkの勢いはちょっと落ちた。
</p>


<!-- section end -->
</div>
<!-- 2001/12/19 end -->



<hr class="hide">
<!-- 2001/12/20 start -->
<h2><a name="20011220" href="200112b.html#20011220">2001-12-20 (Thu)</a></h2>

<div class="entry1">
<h3><a name="200112201" title="200112201" href="200112b.html#200112201">■</a> 
MSYS</h3>
<p>
結構面白い。特徴としては
</p>
<pre>
レジストリをいじらない
/etc/fstabでmapping
msys-1.0.dllがあるディレクトリの親ディレクトリが/になる
msysでのディレクトリ表現は/binに置いてあるプログラムのみ有効
mingwは/mingwにインストールする
</pre>
<p>
という感じ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200112202" title="200112202" href="200112b.html#200112202">■</a> 
MSYS 1.0.2とMinGW 1.1でrubyをmake</h3>
<p>
とりあえずcygwin上で展開。
</p>
<pre>
% tar xfvz msys-1.0.2-i386-bin.tar.gz -C /c
% tar xfvz MinGW-1.1.tar.gz -C /c/msys/1.0/mingw
% mkdir /c/msys/1.0/ruby; cd /c/msys/1.0/ruby
% cvs co -rruby_1_6 -druby16 ruby
% cd ruby16
% autoconf
% cd ..
% mkdir msys
</pre>
<p>
環境変数MSYSTEMとPATHを設定すればconfigureもできた。
</p>
<pre>
% MSYSTEM=MINGW32 PATH=/c/msys/1.0/bin:/c/msys/1.0/mingw/bin \
  /c/msys/1.0/bin/bash -i
bash-2.04$ cd /ruby/msys
bash-2.04$ ../ruby16/configure --enable-shared
bash-2.04$ make
(snip)
yacc ../ruby16/parse.y
process_begin: CreateProcess((null), yacc ../ruby16/parse.y, ...) failed.
make (e=2): 指定されたファイルが見つかりません。
c:\msys\1.0\mingw\bin\make.exe: *** [parse.c] Error 2
</pre>
<p>
そうか。byaccもbisonもないのか。これだけは別にインストールしないとだめだな。
とりあえずparse.cだけcygwinでbisonしたものをコピーして先に進める。
</p>

<p>
問題ないっす。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200112203" title="200112203" href="200112b.html#200112203">■</a> 
Nimda</h3>
<p>
500KBのNimdaはかなりうれしくない。香港から。
</p>


<!-- section end -->
</div>
<!-- 2001/12/20 end -->

<hr>
<div>
<a href="200112a.html">&lt;Prev(,)</a> | 
<a href="200112c.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="eban.github.io"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="eban.github.io" checked> eban.github.io を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
