<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2007-10-b</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://jarp.does.notwork.org/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200710a.html">
<link rel="next" href="200710c.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2007年10月中旬〜</p>
<hr>
<div>
<a href="200710a.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200710c.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2007/10/11 start -->
<h2><a name="20071011" href="200710b.html#20071011">2007-10-11 (Thu)</a></h2>
<!-- 2007-10-12 01:10:59 -->

<div class="entry1">
<h3><a name="200710111" title="200710111" href="200710b.html#200710111">■</a> 
<a href="http://boxes.thomasjensen.com/">[Soft] boxes</a></h3>
<p>
今日cygwinに追加されたboxesが面白い。
</p>

<pre>
% date |boxes         
/********************************/
/* Fri Oct 12 01:04:10 JST 2007 */
/********************************/
% date |boxes -d shell
################################
# Fri Oct 12 01:04:13 JST 2007 #
################################
% date |boxes -d stone
+------------------------------+
| Fri Oct 12 01:04:15 JST 2007 |
+------------------------------+
</pre>
<p>
自分でもbox designは作れるようだ。
</p>
<!-- section end -->
</div>
<!-- 2007/10/11 end -->



<hr class="hide">
<!-- 2007/10/12 start -->
<h2><a name="20071012" href="200710b.html#20071012">2007-10-12 (Fri)</a></h2>
<!-- 2007-10-13 03:12:12 -->

<div class="entry1">
<h3><a name="200710121" title="200710121" href="200710b.html#200710121">■</a> 
<a href="http://gmailblog.blogspot.com/2007/10/more-gmail-storage-coming-for-all.html">[Gmail] More Gmail storage coming for all</a></h3>
<p>
カウンタのスピードが上がったらしいよ。
</p>

<pre>
% date -d @1192176000 
Fri Oct 12 17:00:00 JST 2007
</pre>
<p>
17時からか。だいたい毎秒1.5KBのペースで増えてるようだ。
</p>
<!-- section end -->
</div>
<!-- 2007/10/12 end -->



<hr class="hide">
<!-- 2007/10/13 start -->
<h2><a name="20071013" href="200710b.html#20071013">2007-10-13 (Sat)</a></h2>
<!-- 2007-10-14 19:40:10 -->

<div class="entry1">
<h3><a name="200710131" title="200710131" href="200710b.html#200710131">■</a> 
<a href="http://google-mania.net/archives/691">[Google] 自分のネットサーフィンが全て記録される『Googleウェブ履歴』が利用可能に</a></h3>
<p>
Googleツールバーをインストールしないといけないってのがなあ。<br>
まあ、これならでもIEでも使えるか。<br>
あと記録したくないサイトを指定できるのかな？<br>

<a href="http://www.splitbrain.org/projects/gbrain">gBrain</a>
は正規表現で指定できるとこがいいよね。
</p>
<!-- section end -->
</div>
<!-- 2007/10/13 end -->



<hr class="hide">
<!-- 2007/10/14 start -->
<h2><a name="20071014" href="200710b.html#20071014">2007-10-14 (Sun)</a></h2>
<!-- 2007-10-15 21:11:25 -->

<div class="entry1">
<h3><a name="200710141" title="200710141" href="200710b.html#200710141">■</a> 
<a href="http://blog.segment7.net/articles/2007/10/13/rubygems-beta-0-9-4-5">[Ruby] RubyGems Beta 0.9.4.5</a></h3>
<p>
Ruby 1.9に対応したというので試してみる。<br>
http://segment7.net/temp/rubygems-0.9.4.5.tgz を取ってきてruby setup.rbを実行。
</p>

<pre>
/usr/local/lib/ruby/1.9/e2mmap.rb:160:in `Raise': $! is a read-only variable (NameError)
</pre>
<p>
でエラーになる。これはe2mmap.rbが悪いよなあ。<br>
それ以前にrdocのparserでエラーになってる。
</p>

<pre>
RDoc failure in lib/rubygems/source_index.rb at or around line 325 column 18
</pre>
<p>
%Wに対応してないのか？とりあえずruby setup.rb --no-ri --no-rdocでお茶を濁す。
</p>

<p>
続いてrailsを試しにインストール。
</p>

<pre>
% gem install -y rails
INFO:  `gem install -y` is now default and will be removed
INFO:  use --ignore-dependencies to install only the gems you list
</pre>
<p>
-yがdefaultになったわけね。
</p>

<p>
うーむ。結局同じようにActiveRecordもエラーだ。
</p>

<pre>
RDoc failure in lib/active_record/connection_adapters/firebird_adapter.rb at or around line 71 column 10
</pre>
<p>
やはり%Wだな。あれ？でも1.8では問題ないよな。1.9での対応を忘れてるのか？<br>
こっちもとりあえずはgem install --no-ri --no-rdoc railsならok。
</p>
<!-- section end -->
</div>
<!-- 2007/10/14 end -->



<hr class="hide">
<!-- 2007/10/15 start -->
<h2><a name="20071015" href="200710b.html#20071015">2007-10-15 (Mon)</a></h2>
<!-- 2007-10-16 02:26:39 -->

<div class="entry1">
<h3><a name="200710151" title="200710151" href="200710b.html#200710151">■</a> 
[MinGW] Linux上でMinGWクロスコンパイラを作る</h3>
<p>
MinGWのruntime/w32apiのヘッダやライブラリは
<a href="http://sourceforge.net/project/showfiles.php?group_id=2435">すでにある</a>のでそのまま使う。
材料は
<ul>
<li>mingw-runtime-3.13.tar.gz
<li>w32api-3.10.tar.gz
<li>binutils-2.18.tar.bz2
<li>gcc-core-4.2.2.tar.bz2
<li>gcc-g++-4.2.2.tar.bz2
</ul>

<p>
の5つ。bintutilsとgccはどこかのGNUのミラーサイトから取ってくる。
</p>

<p>
下準備。
</p>

<pre>
% mkdir -p mingw/i386-mingw32
% mingw=$PWD/mingw
% tar xfv mingw-runtime-3.13.tar.gz -C $mingw/i386-mingw32
% tar xfv w32api-3.10.tar.gz  -C $mingw/i386-mingw32
</pre>

<p>
今回は/usr/local/mingwじゃなくて適当に掘ったmingwへインストールしてみる。<br>
もちろん/usr/local/mingwでもいい。
</p>

<p>
まずはbinutilsのmake。
</p>

<pre>
% tar xfv binutils-2.18.tar.bz2
% cd binutils-2.18
% CFLAGS=-Os ./configure --prefix=$mingw --target=i386-mingw32
% make all install
% cd ..
</pre>

<p>
続いてgccのmake。
</p>

<pre>
% tar xfv gcc-core-4.2.2.tar.bz2
% tar xfv gcc-g++-4.2.2.tar.bz2
% cd gcc-4.2.2
% CFLAGS=-Os CXXFLAGS=-Os ./configure --verbose --prefix=$mingw \
--enable-languages=c,c++ --disable-nls --without-included-gettext \
--with-system-zlib --enable-interpreter \
--enable-sjlj-exceptions --disable-version-specific-runtime-libs \
--disable-win32-registry --target=i386-mingw32
% make all install
% cd ..
</pre>

<p>
ちゃんとコンパイルできるかどうか確認。
</p>

<pre>
% echo 'main(){}' &gt;main.c
% mingw/bin/i386-mingw32-gcc -v main.c
</pre>
<p>
いけてるようだ。i386-mingw-gccからの相対でヘッダやライブラリを探すので、<br>
mingw/以下をどこに移動してもok。
</p>
<!-- section end -->
</div>
<!-- 2007/10/15 end -->



<hr class="hide">
<!-- 2007/10/16 start -->
<h2><a name="20071016" href="200710b.html#20071016">2007-10-16 (Tue)</a></h2>
<!-- 2007-10-17 20:54:20 -->

<div class="entry1">
<h3><a name="200710161" title="200710161" href="200710b.html#200710161">■</a> 
<a href="http://google-mania.net/archives/704">[Gcal] Googleカレンダーの予定リストをFirefoxサイドバーに表示させよう！</a></h3>
<p>
あ、これはいいかもしれないと思ったら
<a href="http://debeso.com/blog/?p=140">つっこみ</a>
が。<br>
なるほど。こっちなら「10月月」にもならないし。<br>
でも、カレンダーは現在選んでるのが出ちゃうから、<br>
予定リストだけ表示ってことができないんだよねえ。
</p>
<!-- section end -->
</div>
<!-- 2007/10/16 end -->



<hr class="hide">
<!-- 2007/10/17 start -->
<h2><a name="20071017" href="200710b.html#20071017">2007-10-17 (Wed)</a></h2>
<!-- 2007-10-18 02:16:04 -->

<div class="entry1">
<h3><a name="200710171" title="200710171" href="200710b.html#200710171">■</a> 
<a href="http://raa.ruby-lang.org/project/ccsv/">[Ruby] Ccsv</a></h3>
<p>
なんかいつのまにかCSV速度競争が始まっていた。
</p><blockquote><p>
A pure-C CSV parser. Only supports a constrained CSV
format right now: files only, no missing fields, no
quoted delimiters. CSVScan is better for most purposes.
</p></blockquote><p>
まあCで書けばそりゃ速くなるだろうけど。
</p>

<pre>
Benchmark on 1,000,000 rows:

             user       system     total       real
Ccsv       1.700000   0.040000   1.740000 (  1.847071)
CSVScan    2.080000   0.060000   2.140000 (  2.169558)
LightCsv  11.950000   0.150000  12.100000 ( 12.406127)
FasterCSV 36.120000   0.380000  36.500000 ( 39.046713)
CSV      125.330000   1.060000 126.390000 (132.264997)
</pre>

<!-- section end -->
</div>
<!-- 2007/10/17 end -->



<hr class="hide">
<!-- 2007/10/18 start -->
<h2><a name="20071018" href="200710b.html#20071018">2007-10-18 (Thu)</a></h2>
<!-- 2007-10-19 02:01:47 -->

<div class="entry1">
<h3><a name="200710181" title="200710181" href="200710b.html#200710181">■</a> 
<a href="http://freshmeat.net/projects/statifier/">[Soft] ELF statifier 1.6.13</a></h3>
<blockquote><dl>
<dt>
About:
<dd>
Executable files may be linked statically or dynamically.
Dynamically linked executables use  less disk space and memory, but
require appropriative dynamic libraries present in order  to run. ELF
statifier make one executable file with no run-time dependencies from a
dynamically linked executable and all its libraries. This file can be
copied and run on another machine with no need for all of the libraries.
</dl></blockquote><p>
おもしろそうと思ったが、できあがった実行ファイルはSEGVになってしまう。
</p>

<pre>
% statifier =df df.static
% ldd df.static
        not a dynamic executable
% ./df.static
zsh: segmentation fault  ./df.static
</pre>
<p>
ざんねん。
</p>
<!-- section end -->
</div>
<!-- 2007/10/18 end -->



<hr class="hide">
<!-- 2007/10/19 start -->
<h2><a name="20071019" href="200710b.html#20071019">2007-10-19 (Fri)</a></h2>
<!-- 2007-10-20 23:17:45 -->

<div class="entry1">
<h3><a name="200710191" title="200710191" href="200710b.html#200710191">■</a> 
<a href="http://golf.shinh.org/p.rb?Sphenic+Numbers">[Golf] Sphenic Numbers</a></h3>
<p>
素数系はBashが有利。あとはどう整形するかなんだよねえ。
</p>
<!-- section end -->
</div>
<!-- 2007/10/19 end -->



<hr class="hide">
<!-- 2007/10/20 start -->
<h2><a name="20071020" href="200710b.html#20071020">2007-10-20 (Sat)</a></h2>
<!-- 2007-10-21 02:50:54 -->

<div class="entry1">
<h3><a name="200710201" title="200710201" href="200710b.html#200710201">■</a> 
<a href="http://golf.shinh.org/p.rb?Sphenic+Numbers">[Golf] Sphenic Numbers</a></h3>
<p>
無駄にsedを呼んでいたのをやめた。<br>
素数判定を縮めたら
<a href="http://golf.shinh.org/p.rb?prime+numbers">prime numbers</a>
に応用できることに気づいて1B短縮。
</p>
<!-- section end -->
</div>
<!-- 2007/10/20 end -->

<hr>
<div>
<a href="200710a.html">&lt;Prev(,)</a> | 
<a href="200710c.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
