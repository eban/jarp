<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2012-10-a</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://jarp.does.notwork.org/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="201209c.html">
<link rel="next" href="201210b.html">

<link rel="stylesheet" type="text/css" href="https://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css">
<script async type="text/javascript" src="https://google-code-prettify.googlecode.com/svn/trunk/src/prettify.js"></script>
<script type="text/javascript">
<!--       
$(document).ready(function() {
  prettyPrint();
});
-->
</script>
</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2012年10月上旬〜</p>
<hr>
<div>
<a href="201209c.html" accesskey=",">&lt;Older(,)</a> | 
<a href="201210b.html" accesskey=".">Newer(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2012/10/01 start -->
<h2><a name="20121001" href="201210a.html#20121001">2012-10-01 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201210011" title="201210011" href="201210a.html#201210011">■</a> 
イー・モバイルのにねん得割はどうなるのか</h3>
<p>
なんか早々に終了するんじゃないのかな、これは。<br>
完全にiPhone5のLTEのための買収だもんなあ。<br>
既存のイーモバユーザーは死ねってことだろう。
</p>
<p>
なんかタイミングよく解約しようとしてたわけで、どうなってもいいんだけど。<br>
そういう意味ではLTEにしなくて正解だったわけだな。
</p>
<!-- section end -->
</div>
<!-- 2012/10/01 end -->



<hr class="hide">
<!-- 2012/10/02 start -->
<h2><a name="20121002" href="201210a.html#20121002">2012-10-02 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201210021" title="201210021" href="201210a.html#201210021">■</a> 
9月のspam</h3>
<p>
2000通ほど。安定してるね。

</p>
<!-- section end -->
</div>

<div class="entry0">
<h3><a name="201210022" title="201210022" href="201210a.html#201210022">■</a> 
最近のGoogleのショートカットキーがうざい</h3>
<p>
jとkがいつのまにか各項目への移動キーになってるようで、<br>
他と動きが違って見ていた位置を見失いがち。<br>
これやめたいんだけど、設定にはないよなあ。
</p>
<p>
それともなんかそんな拡張入れたんだっけかな。<br>
見た感じそれらしいものは見つからないが。
</p>
<!-- section end -->
</div>
<!-- 2012/10/02 end -->



<hr class="hide">
<!-- 2012/10/03 start -->
<h2><a name="20121003" href="201210a.html#20121003">2012-10-03 (Wed)</a></h2>

<div class="entry1">
<h3><a name="201210031" title="201210031" href="201210a.html#201210031">■</a> 
まったく登録した覚えのないまぐまぐのメールマガジンが休刊になったとかなんとか</h3>
<p>
なんで勝手に人のメールアドレスが登録できるんだ、まぐまぐってとこは。<br>
</p>
</p><blockquote><p>
こちらのメールアドレスで上記メールマガジンを登録されていましたが、
発行者さまのご都合により６ヶ月間発行がなく、残念ながら休刊となりました
のでお知らせします。なお、この件に関して、読者さまは何も手続きする必
要はありません。
</p></blockquote><p>
<p>
いや、どう見てもspamなタイトルだったよ。そんな簡単にspamを出せる仕様なのか？
</p>
<!-- section end -->
</div>
<!-- 2012/10/03 end -->



<hr class="hide">
<!-- 2012/10/04 start -->
<h2><a name="20121004" href="201210a.html#20121004">2012-10-04 (Thu)</a></h2>

<div class="entry1">
<h3><a name="201210041" title="201210041" href="201210a.html#201210041">■</a> 
裁断した本も残り数冊</h3>
<p>
いいペースでスキャンしてきたが、7月にまとめて裁断しておいた本も残り数冊となった。<br>
そろそろまた裁断再開の時期にきた。ちゃんと
<a href="201206b.html#201206141">20℃あたり</a>になるところがタイミングぴったしだな。
</p>
<!-- section end -->
</div>
<!-- 2012/10/04 end -->



<hr class="hide">
<!-- 2012/10/05 start -->
<h2><a name="20121005" href="201210a.html#20121005">2012-10-05 (Fri)</a></h2>

<div class="entry1">
<h3><a name="201210051" title="201210051" href="201210a.html#201210051">■</a> 
calの結果からawkで第2月曜日</h3>
<p>
calの結果から第2月曜日を抜き出す。
</p>
<pre>
% cal 10 2012
    October 2012      
Su Mo Tu We Th Fr Sa  
    1  2  3  4  5  6  
 7  8  9 10 11 12 13  
14 15 16 17 18 19 20  
21 22 23 24 25 26 27  
28 29 30 31           
                      
</pre>
<p>
月曜日は4バイト目から2バイト分ある
</p>
<pre>
% cal 10 2012 | awk '$0=substr($0,4,2)' 
 O
Mo
 1
 8
15
22
29
  
</pre>
<p>
余計なOとMoを取り除くには数値と見做せば0になる。
</p>
<pre>
% cal 10 2012 | awk '$0=substr($0,4,2)+0'
1
8
15
22
29
</pre>
<p>
これはついでに空行も削除されるので、9月のように途中が空行になってしまう場合にも有効。<br>
さらにprefixの空白もなくなるし、一石三鳥。
</p>
<pre>
% cal 9 2012 | awk '$0=substr($0,4,2)'  
Se
Mo
  
 3
10
17
24
  
% cal 9 2012 | awk '$0=substr($0,4,2)+0'
3
10
17
24
</pre>
<p>
あとは2番目を取り出せばいい。
</p>
<pre>
% cal 10 2012 | awk '($0=substr($0,4,2)+0)&amp;&amp;++n==2' 
8
</pre>
<p>
狙ったところを抜き出すというのは意外にめんどくさい。<br>
特に複数行だったりすると。
</p>
<!-- section end -->
</div>
<!-- 2012/10/05 end -->



<hr class="hide">
<!-- 2012/10/06 start -->
<h2><a name="20121006" href="201210a.html#20121006">2012-10-06 (Sat)</a></h2>

<div class="entry1">
<h3><a name="201210061" title="201210061" href="201210a.html#201210061">■</a> 
Nexus7</h3>
<p>
昨日やっと来た。配達予定日途中9日になったりで、どうなってんだと思ったら、<br>
どうもFedExは土日祝日は配達しないようで。だから微妙に連休明けの9日になったりしたんだな。
</p>
<p>
早速PCのUSBから充電したがなかなか進まない。一晩やらしてもまだ80%。<br>
急ぐなら付属のACアダプタ経由にすべき。
</p>
<p>
それにしてもなぜか目が疲れる。明るすぎるんだろうか。ちょっと暗めに調整。<br>
アプリはとりあえずPerfect Viewerを入れた。マンガを見てみると字がちゃんと読める。<br>
やはりマンガを読むなら7インチくらいないときついな。
</p>
<p>
USBでつないでもUbuntuからNexus7のストレージがなぜか見えない。あとで調べないと。<br>
そういうわけでマンガはhttp経由でダウンロードした。こういうときはruby -run httpdが役に立つ。<br>
ああ、でも日本語のファイル名があるとエラーになっちゃうのはどうすればいいんだろう？
</p>
<!-- section end -->
</div>
<!-- 2012/10/06 end -->



<hr class="hide">
<!-- 2012/10/07 start -->
<h2><a name="20121007" href="201210a.html#20121007">2012-10-07 (Sun)</a></h2>

<div class="entry1">
<h3><a name="201210071" title="201210071" href="201210a.html#201210071">■</a> 
Ubuntuにはncalコマンドなんてものがあった</h3>
<p>
縦と横が入れ替わっている。
</p>
<pre>
% ncal    
    October 2012      
Su     7 14 21 28   
Mo  1  8 15 22 29   
Tu  2  9 16 23 30   
We  3 10 17 24 31   
Th  4 11 18 25      
Fr  5 12 19 26      
Sa  6 13 20 27      
</pre>
<p>
しかも月曜日から始めるというオプションがある。
</p>
<pre>
% ncal -M
    October 2012      
Mo  1  8 15 22 29   
Tu  2  9 16 23 30   
We  3 10 17 24 31   
Th  4 11 18 25      
Fr  5 12 19 26      
Sa  6 13 20 27      
Su  7 14 21 28      
</pre>
<p>
これを組み合わせれば第2月曜日も簡単に出せる。
</p>
<pre>
% ncal -hM 10 2012|awk 'NR==2&amp;&amp;$0=$3'
8
</pre>
<p>
最初から横に並んでいるのでawkで扱いやすい。
</p>
<!-- section end -->
</div>
<!-- 2012/10/07 end -->



<hr class="hide">
<!-- 2012/10/08 start -->
<h2><a name="20121008" href="201210a.html#20121008">2012-10-08 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201210081" title="201210081" href="201210a.html#201210081">■</a> 
ちょっと縮めてみたが、別にゴルフではなかった</h3>
<p>
先日のcalとawkで第2月曜日を求める話だけど、substrがやたらと長い。<br>
ここはやっぱcutでしょう。
</p>
<pre>
% cal 10 2012|cut -b4-5|awk '($0+=0)&amp;&amp;++a==2'
8
</pre>
<p>
prefixの空白にこだわらければ
</p>
<pre>
% cal 10 2012|cut -b4-5|awk '$0+0&amp;&amp;++a==2'
 8
</pre>
<p>
でいい。
</p>
<pre>
% cal 10 2012|cut -b4-5|awk '$0+0&amp;&amp;++a==2'|bc
8
</pre>
<p>
という手もあるが。
</p>
<!-- section end -->
</div>
<!-- 2012/10/08 end -->



<hr class="hide">
<!-- 2012/10/09 start -->
<h2><a name="20121009" href="201210a.html#20121009">2012-10-09 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201210091" title="201210091" href="201210a.html#201210091">■</a> 
平井和正ライブラリー第八集</h3>
<p>
なんで八集だけ手元にあるのか不思議だったんだけど、
<a href="http://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%AB%E3%83%9E%E3%82%B2%E3%83%89%E3%83%B3_(%E5%B0%8F%E8%AA%AC)">Wikipedia</a>を見て納得した。<br>
七集までは幻魔大戦なのであった。またここで休止なのか。25年経ってもまだ読んでないんだが。
</p>
<p>
グインにしてもそうなんだけど長い話が好きなんだよねえ。<br>
長いというか延々と続いてしかも頻繁に出版されるような話が。<br>
というわけで今だと松岡圭祐になる。
</p>
<!-- section end -->
</div>
<!-- 2012/10/09 end -->



<hr class="hide">
<!-- 2012/10/10 start -->
<h2><a name="20121010" href="201210a.html#20121010">2012-10-10 (Wed)</a></h2>

<div class="entry1">
<h3><a name="201210101" title="201210101" href="201210a.html#201210101">■</a> 
第2月曜日は7日を基点にすると計算が簡単になる</h3>
<p>
dateの%uが前提にあるんだけど、これは日曜が7になるので、
</p>
<pre>
% echo $((15 - $(date -d 10/7 +%u)))
8
</pre>
<p>
で十分。
<a href="201209c.html#201209301">先日の</a>は日曜が0でも7でもいいように%7を使ってる。
</p>
<!-- section end -->
</div>
<!-- 2012/10/10 end -->

<hr>
<div>
<a href="201209c.html">&lt;Older(,)</a> | 
<a href="201210b.html">Newer(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="https://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
