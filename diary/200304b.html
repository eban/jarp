<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "https://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2003-4-b</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://jarp.does.notwork.org/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200304a.html">
<link rel="next" href="200304c.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2003年4月中旬〜</p>
<hr>
<div>
<a href="200304a.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200304c.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2003/04/11 start -->
<h2><a name="20030411" href="200304b.html#20030411">2003-04-11 (Fri)</a></h2>

<div class="entry1">
<h3><a name="200304111" title="200304111" href="200304b.html#200304111">■</a> 
[Ruby] linux-gnu</h3>
<p>
結局-gnuはつかなくなった。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304112" title="200304112" href="200304b.html#200304112">■</a> 
<a href="http://cygwin.com/ml/cygwin-announce/2003-04/msg00008.html">[Cygwin] Setup.exe 2.340.2.5 released</a></h3>
<p>
setup.exeが新しくなってUser URLのboxも欠けない。
keepというボタンが増えてる。
md5.sumのチェックが入る。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200304113" title="200304113" href="200304b.html#200304113">■</a> 
[Ruby][Cygwin] setup.bz2</h3>
<p>
ついでに
<a href="ftp://ftp.ruby-lang.org/pub/ruby/binaries/cygwin/">Ruby Binaries(Cygwin)</a>でsetup.bz2も用意した。
なひさんのリクエストでもあるが、
先にsetup.bz2のほうを試すということに今更ながら気づいた。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304114" title="200304114" href="200304b.html#200304114">■</a> 
[さいたま市] 見沼区と郵便番号</h3>
<p>
名前でもめた見沼区であるが、実は今月からは見沼区民なのである。
今日amazonで注文した際に、やっぱ住所を変更しとくべきだよなあと思い、
変更したのはいいが、郵便番号が気になった。
ぐぐってみると案の定変わっていた。
</p>

<p>
名前なんかどうでもいいんだけど、こういう変更が面倒だよね。
引っ越しもしてないのに。
</p>
<!-- section end -->
</div>
<!-- 2003/04/11 end -->



<hr class="hide">
<!-- 2003/04/12 start -->
<h2><a name="20030412" href="200304b.html#20030412">2003-04-12 (Sat)</a></h2>

<div class="entry1">
<h3><a name="200304121" title="200304121" href="200304b.html#200304121">■</a> 
<a href="http://www.gnu.org/software/sed/">[GNU] sed 4.0.7</a></h3>
<p>
make checkの時間が長い。
</p>
<pre>
make check  471.16s user 11.88s system 97% cpu 8:14.07 total
</pre>
<p>
grepみたいにマルチバイト対応のせいと思ったら、最後のdc.sedせいだ。
これはtestsuite/じゃなくてsample/とかに入れるべきだと思う。
それはそれとしてac_cv_header_wchar_h=noで作ったマルチバイト非対応版は
</p>
<pre>
make check  398.66s user 11.51s system 99% cpu 6:52.60 total
</pre>
<p>
だった。やはり遅いんだな。
これぐらいで済んでいるのはyコマンドしか対応してないからだろう。
てゆか、yコマンドだけマルチバイト対応しても使い辛いだけだと思うんだが。
</p>
<!-- section end -->
</div>
<!-- 2003/04/12 end -->



<hr class="hide">
<!-- 2003/04/13 start -->
<h2><a name="20030413" href="200304b.html#20030413">2003-04-13 (Sun)</a></h2>

<div class="entry1">
<h3><a name="200304131" title="200304131" href="200304b.html#200304131">■</a> 
[Ruby] lib/mkmf.rb: &lt;windows.h&gt;, &lt;winsock.h&gt;</h3>
<p>
mswin32/bcc32/mingw32のmakeが速くなったはず。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304132" title="200304132" href="200304b.html#200304132">■</a> 
[Cygwin] 要らないウィンドウ</h3>
<p>
いつの間にかrxvt上でmingw版Rubyをmakeするときにパカパカ出てくる邪魔なwindowが出なくなっている。
やっぱCygwinのほうに問題があったわけだな、きっと。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200304133" title="200304133" href="200304b.html#200304133">■</a> 
<a href="http://raa.ruby-lang.org/project/druby/">[Ruby] druby 2.0.3</a></h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304134" title="200304134" href="200304b.html#200304134">■</a> 
<a href="http://jarp.jin.gr.jp/win32/">[Win32] readline 4.3 for win32</a></h3>
<p>
MinGW用はGNUmakefileでVC++とBCC32用はMakefileにすることにした。
で、nmakeは_NMAKE_VER、Borland makeは__MAKE__が定義されていることが判明。
つまり
</p>
<pre>
!ifdef _NMAKE_VER
  CC = cl -nologo
!else
  CC = bcc32 -q
!endif
</pre>
<p>
のように書けるわけだよ、うむ。
あ、でもVC++ 6のnmakeから定義されてるらしいので、
__MAKE__を使ったほうが無難かもしれない。
</p>

<p>
さらにmake clean, make install関係をちょっといじった。
</p>
<!-- section end -->
</div>
<!-- 2003/04/13 end -->



<hr class="hide">
<!-- 2003/04/14 start -->
<h2><a name="20030414" href="200304b.html#20030414">2003-04-14 (Mon)</a></h2>

<div class="entry1">
<h3><a name="200304141" title="200304141" href="200304b.html#200304141">■</a> 
<a href="http://jarp.jin.gr.jp/win32/">[Win32] readline 4.3 for Win32</a></h3>
<p>
readline 4.3自体はマルチバイト対応してるはずなので、
ちょっとそのあたりを調べてみた。
rlmbutil.hを見ると
</p>
<pre>
#if defined (HAVE_WCTYPE_H) &amp;&amp; defined (HAVE_WCHAR_H)
#  include &lt;wchar.h&gt;
#  include &lt;wctype.h&gt;
#  if defined (HAVE_MBSRTOWCS) /* system is supposed to support XPG5 */
#    define HANDLE_MULTIBYTE      1
#  endif
#endif
</pre>
<p>
となってる。つまりmbsrtowcsが必要なわけだ。
msvcrt.dllにはありそうもないが、
/usr/include/mingw/wchar.hを見るとmsvcp60.dllにはあるらしい。
</p>
<pre>
/* These are resolved by -lmsvcp60 */
/* If you don't have msvcp60.dll in your windows system directory, you can
   easily obtain it with a search from your favorite search engine. */
</pre>
<p>
無理矢理HAVE_MBSRTOWCSを定義してみるとmbrtowcとmbrlenがundefinedに。
残念。
</p>
<!-- section end -->
</div>
<!-- 2003/04/14 end -->



<hr class="hide">
<!-- 2003/04/15 start -->
<h2><a name="20030415" href="200304b.html#20030415">2003-04-15 (Tue)</a></h2>

<div class="entry1">
<h3><a name="200304151" title="200304151" href="200304b.html#200304151">■</a> 
[Win32] ライブラリの移植</h3>
<p>
<a href="http://jarp.jin.gr.jp/cgi-bin/cvsweb.cgi/">CVSWeb</a>を用意した。現在はreadlineと、うささんが移植したgdbmがある。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304152" title="200304152" href="200304b.html#200304152">■</a> 
[るるる] 勧誘計画</h3>
<p>
うささんを招き入れた。あとはなかださんを勧誘するだけだ。
</p>
<!-- section end -->
</div>
<!-- 2003/04/15 end -->



<hr class="hide">
<!-- 2003/04/16 start -->
<h2><a name="20030416" href="200304b.html#20030416">2003-04-16 (Wed)</a></h2>

<div class="entry1">
<h3><a name="200304161" title="200304161" href="200304b.html#200304161">■</a> 
<a href="http://www.openssl.org/">[Linux] OpenSSL 0.9.7b</a></h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304162" title="200304162" href="200304b.html#200304162">■</a> 
[Win32] bcc32</h3>
<p>
bcc32 -lGiでインポートライブラリを作ってくれる。
ilink32のヘルプには-Glと書いてあるが間違いだろう。
</p>

<p>
Rubyのbcc32/Makefile.subで確認したらちゃんと-Giを使ってた。
先にこっちを見るべきだった。
</p>
<!-- section end -->
</div>
<!-- 2003/04/16 end -->



<hr class="hide">
<!-- 2003/04/17 start -->
<h2><a name="20030417" href="200304b.html#20030417">2003-04-17 (Thu)</a></h2>

<div class="entry1">
<h3><a name="200304171" title="200304171" href="200304b.html#200304171">■</a> 
<a href="http://sourceforge.net/project/showfiles.php?group_id=42128">[Ruby] ri 1.8b</a></h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304172" title="200304172" href="200304b.html#200304172">■</a> 
spam</h3>
<p>
うーむ。今月はすでに400を越えてる。
</p>
<!-- section end -->
</div>
<!-- 2003/04/17 end -->



<hr class="hide">
<!-- 2003/04/18 start -->
<h2><a name="20030418" href="200304b.html#20030418">2003-04-18 (Fri)</a></h2>

<div class="entry1">
<h3><a name="200304181" title="200304181" href="200304b.html#200304181">■</a> 
<a href="http://www.ascii.co.jp/books/magazines/unix.html">[Magazine] うにまが</a></h3>
<p>
紙が変わるだけで、こうも印象が変わるもんかな。
てゆか、一気に1100円かよ。
</p>

<p>
「ゆにまが」でぐぐってもヒットしないのに、
「うにまが」でぐぐるとちゃんと
<a href="http://www.ascii.co.jp/books/magazines/unix.html">UNIX MAGAZINE</a>のページにヒットするのはふしぎだ。「うにまが」なんて文字はどこにもないのに。
</p>
<!-- section end -->
</div>
<!-- 2003/04/18 end -->



<hr class="hide">
<!-- 2003/04/19 start -->
<h2><a name="20030419" href="200304b.html#20030419">2003-04-19 (Sat)</a></h2>

<div class="entry1">
<h3><a name="200304191" title="200304191" href="200304b.html#200304191">■</a> 
[Linux] binfmt_misc</h3>
<p>
久し振りにbinfmt_miscを使おうと思ったらどうも動かない。
/usr/src/linux/Documentation/binfmt_misc.txtを見ても特に変わった様子はないが、
<a href="http://www.tat.physik.uni-tuebingen.de/~rguenth/linux/binfmt_misc.html">web page</a>があるというので見に行ってみると
</p>
<pre>
WARNING: if you use recent kernel versions from Alan Cox (2.4.2acXX and later)
or versions 2.4.13 and up you need to mount binfmt_misc using

mount -t binfmt_misc none /proc/sys/fs/binfmt_misc.
</pre>
<p>
ということらしい。なるほど。
</p>
<!-- section end -->
</div>
<!-- 2003/04/19 end -->



<hr class="hide">
<!-- 2003/04/20 start -->
<h2><a name="20030420" href="200304b.html#20030420">2003-04-20 (Sun)</a></h2>

<div class="entry1">
<h3><a name="200304201" title="200304201" href="200304b.html#200304201">■</a> 
<a href="http://raa.ruby-lang.org/project/date2/">[Ruby] date2 3.3.2</a></h3>
<p>
更新。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200304202" title="200304202" href="200304b.html#200304202">■</a> 
[Ruby] ext/*/sample/</h3>
<p>
<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-dev/20038">青木さんのメール</a>を見てて、そういえばext/*/sample/というのもあるなあと気づいたので、
Ruby Binariesにも含めることにした。
</p>
<pre>
/usr/local/doc/ruby/ruby-1.8.0/ext/*/sample/
</pre>
<p>
という感じで。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200304203" title="200304203" href="200304b.html#200304203">■</a> 
<a href="../ruby/jarh.rb">JARH</a></h3>
<pre>
begin end if print &quot;Just another Ruby hacker,&quot;
</pre>

<!-- section end -->
</div>
<!-- 2003/04/20 end -->

<hr>
<div>
<a href="200304a.html">&lt;Prev(,)</a> | 
<a href="200304c.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="https://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="https://validator.w3.org/check?uri=referer"><img
          src="https://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
