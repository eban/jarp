<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2008-1-a</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://jarp.does.notwork.org/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200712c.html">
<link rel="next" href="200801b.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2008年1月上旬〜</p>
<hr>
<div>
<a href="200712c.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200801b.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2008/01/01 start -->
<h2><a name="20080101" href="200801a.html#20080101">2008-01-01 (Tue)</a></h2>
<!-- 2008-01-02 02:23:05 -->

<div class="entry1">
<h3><a name="200801011" title="200801011" href="200801a.html#200801011">■</a> 
12月のspam</h3>
<p>
4800通ほど。過去最大は8000通弱だったけどこの以上は増えないもんなのか？<br>
どこかでがんばってるところがあるんだろうな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801012" title="200801012" href="200801a.html#200801012">■</a> 
[TV] 人志松本のすべらない話</h3>
<p>
すっかり忘れてた。今頃見てないことに気づいた。<br>
livedoor番組表のキーワードに登録しておこう。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200801013" title="200801013" href="200801a.html#200801013">■</a> 
[goruby] 昨日のgoruby</h3>
<p>
_区切りのメソッド対応。<br>
ゴルフ的にはto_iがt_iで呼べるようになるのがうれしいか？
</p>

<pre>
% goruby -e 'p &quot;123&quot;.t_i' 
123
</pre>
<p>
また、instance_variable_get, instance_variable_setみたいなのには特に有効。
</p>

<pre>
% goruby -e 'instance_variable_set(:@foo,1); p @foo'
1
% goruby -e 'i_v_s(:@foo,1); p @foo'
1
</pre>
<p>
setよりgetのほうが先なので単にi_vだとgetになってしまう。<br>
しかしゴルフ的にはinstance_variable_setが使われることはたぶんない。
</p>
<!-- section end -->
</div>
<!-- 2008/01/01 end -->



<hr class="hide">
<!-- 2008/01/02 start -->
<h2><a name="20080102" href="200801a.html#20080102">2008-01-02 (Wed)</a></h2>
<!-- 2008-01-03 03:36:18 -->

<div class="entry1">
<h3><a name="200801021" title="200801021" href="200801a.html#200801021">■</a> 
<a href="http://golf.shinh.org/p.rb?leap+year">[Golf] leap year</a></h3>
<p>
Vimで。とうとうループもどきで。EOFを検知するのが面倒だな。<br>
とりあえず:h i_^Rが大活躍。
</p>
<!-- section end -->
</div>
<!-- 2008/01/02 end -->



<hr class="hide">
<!-- 2008/01/03 start -->
<h2><a name="20080103" href="200801a.html#20080103">2008-01-03 (Thu)</a></h2>
<!-- 2008-01-04 02:59:31 -->

<div class="entry1">
<h3><a name="200801031" title="200801031" href="200801a.html#200801031">■</a> 
[Vim] レジスタとマクロ</h3>
<p>
なぜかqで定義したものはyankとかで使われるレジスタとは<br>
別の名前空間になると思っていた。<br>
というわけで、
<a href="http://golf.shinh.org/p.rb?google">google</a>も解けた。<br>
上には上がいるが。
</p>
<!-- section end -->
</div>
<!-- 2008/01/03 end -->



<hr class="hide">
<!-- 2008/01/04 start -->
<h2><a name="20080104" href="200801a.html#20080104">2008-01-04 (Fri)</a></h2>
<!-- 2008-01-05 04:12:36 -->

<div class="entry1">
<h3><a name="200801041" title="200801041" href="200801a.html#200801041">■</a> 
[Golf] ゴルフ場のgorubyが更新された</h3>
<p>
これで今までの追加機能が使えるようになった。
</p>

<p>
とりあえず1.8との違いを少し。
</p><ol>
<li>readlineがreでいけるようになったので、getsより使えるようになった
<li>alias say putsなのでsでいける
<li>#!ruby -pやwhile getsよりは$&lt;.m{|x|}で
<li>displayもdiいけるので使い途があるかもしれない(まだ使ってないが)
<li>やはりKernel#subとかなくなったのは痛い
<li>mapやzipがto_aの代わりに使えなくなったが、t_aでいいので問題ない
<li>*''よりは.jで
<li>hは卑怯だ(うろたんだー)
</ol><p>
Kernel#sub等の削除でなかなか小さくならないと思われたが、<br>
書いてみると結構縮むようだ。
</p>
<!-- section end -->
</div>
<!-- 2008/01/04 end -->



<hr class="hide">
<!-- 2008/01/05 start -->
<h2><a name="20080105" href="200801a.html#20080105">2008-01-05 (Sat)</a></h2>
<!-- 2008-01-06 13:51:36 -->

<div class="entry1">
<h3><a name="200801051" title="200801051" href="200801a.html#200801051">■</a> 
[Golf] vim golfでの注意点</h3>
<p>
なぜかゴルフ場と手元での結果が違うのでいろいろ調べてみたら、<br>
~/.vimrcのどれかが影響してることが判明。というわけで、
</p>

<pre>
% vim -u NONE
</pre>
<p>
を推奨。ってあまりやってる人がいないわけだが。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801052" title="200801052" href="200801a.html#200801052">■</a> 
<a href="http://groups.google.com/group/comp.unix.shell/msg/5683a04d6e04f632">[Bash] Bash: fast way to repeat string</a></h3>
<p>
これはなかなか面白いな。printf(1)は
</p><blockquote><p>
引き数 format は与えられた argument すべてをコンバートするのに必要な回数分再利用される。
</p></blockquote><p>
ということなので
</p>

<pre>
% printf &quot;#%.0s&quot; {1..3}
</pre>
<p>
は
</p>

<pre>
% printf &quot;#%.0s#%.0s#%.0s&quot; {1..3}
</pre>
<p>
と書いたのと同じになる。%.0sで引数は捨てられた形になるので、<br>
最終的には必要な個数の#が得られると。
</p>
<!-- section end -->
</div>
<!-- 2008/01/05 end -->



<hr class="hide">
<!-- 2008/01/06 start -->
<h2><a name="20080106" href="200801a.html#20080106">2008-01-06 (Sun)</a></h2>
<!-- 2008-01-07 02:34:04 -->

<div class="entry1">
<h3><a name="200801061" title="200801061" href="200801a.html#200801061">■</a> 
[DVD] DVD LENS CLEANER</h3>
<p>
レンタルCD屋に無料レンズクリーナーがあったので試してみた。<br>
</p><blockquote><p>
世界初!!オーディオ機器を入口から出口まで、トータルにクリーニングする
ハイテク・クリーナー登場
</p></blockquote><p>
ってことらしい。
見た目は単にDVD-ROMに2個穴を開けただけの簡単なものでブラシは存在しない。
</p><blockquote><p>
空気の流れを利用して回転により生じたエアストームが負圧の効果で加速しながらエアホールを通過し、
エアシャワーとなってレンズにピンポイント噴射。レンズを傷つける事なくリフレシュします。
</p></blockquote><p>
とりあえず日本語でおkと言っておこう。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801062" title="200801062" href="200801a.html#200801062">■</a> 
<a href="http://golf.shinh.org/p.rb?leap+year#sed">[Golf] leap yearをsedで</a></h3>
<p>
締め切り間際なのでsedで挑戦。<br>
考えてみると4の倍数とか100の倍数は正規表現で比較的簡単にわかるのであった。<br>
それをviへ移植してちょっと縮んだ。
</p>
<!-- section end -->
</div>
<!-- 2008/01/06 end -->



<hr class="hide">
<!-- 2008/01/07 start -->
<h2><a name="20080107" href="200801a.html#20080107">2008-01-07 (Mon)</a></h2>
<!-- 2008-01-08 21:56:03 -->

<div class="entry1">
<h3><a name="200801071" title="200801071" href="200801a.html#200801071">■</a> 
<a href="http://golf.shinh.org/p.rb?leap+year#sed">[Golf] leap year(sed)</a></h3>
<p>
なかなか良問だったようで、いろんな解が見れて楽しい。<br>
sedで考えると結局のところ4の倍数は下2桁だけみればよくて
</p>

<pre>
/[13579][26]$\|[02468][048]$/
</pre>
<p>
と表現できる。100の倍数は
</p>

<pre>
/00$/
</pre>
<p>
なのでこれを組み合わせて問題の入力データで要らない組み合わせを除くと、<br>

<a href="http://golf.shinh.org/reveal.rb?leap+year/eban/1199623950&amp;sed">74B</a>
の解になる。<br>
まあ、こんな姑息なことをしなくても
<a href="http://golf.shinh.org/reveal.rb?leap+year/kt3k/1199649158&amp;sed">トップの美しい解</a>

は<br>
どんなデータにも対応しているわけでまったくもって完敗だ。
</p>
<!-- section end -->
</div>
<!-- 2008/01/07 end -->



<hr class="hide">
<!-- 2008/01/08 start -->
<h2><a name="20080108" href="200801a.html#20080108">2008-01-08 (Tue)</a></h2>
<!-- 2008-01-09 21:37:49 -->

<div class="entry1">
<h3><a name="200801081" title="200801081" href="200801a.html#200801081">■</a> 
<a href="http://golf.shinh.org/p.rb?right+time">[Golf] Vimでright time</a></h3>
<p>
さすがにVimではむりだろうと思ったが、環境変数TZを設定すればいけた。<br>
ただ環境変数の設定のしかたがなかなかわからない。<br>
helpを見まくってやっと捜し当てた。
</p>

<pre>
:let $TZ=&quot;right/UTC&quot;
</pre>
<p>
というように$でprefixすると環境変数になる。
</p>

<pre>
:echo strftime(&quot;%F %T&quot;, 99999979)
1973-03-03 18:46:19
:let $TZ=&quot;right/UTC&quot;
:echo strftime(&quot;%F %T&quot;, 99999979)
1973-03-03 09:46:17
</pre>

<p>
で今なにげなく:h environmentしてみたらちゃんと出てくるじゃん。<br>
まいった。
</p>
<!-- section end -->
</div>
<!-- 2008/01/08 end -->



<hr class="hide">
<!-- 2008/01/09 start -->
<h2><a name="20080109" href="200801a.html#20080109">2008-01-09 (Wed)</a></h2>
<!-- 2008-01-10 02:50:18 -->

<div class="entry1">
<h3><a name="200801091" title="200801091" href="200801a.html#200801091">■</a> 
[Ruby] 今日のgoruby</h3>
<p>
Array#to_sをjoinに、FalseClass#to_sを&quot;&quot;に変更。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801092" title="200801092" href="200801a.html#200801092">■</a> 
[Google] Bookmarkletでぐぐったらブックマークレットにもヒット</h3>
<p>
今日なにげなくbookmarkletでぐぐったら「ブックマークレット」も強調されてた。<br>
知らなかったよ。
</p>
<!-- section end -->
</div>
<!-- 2008/01/09 end -->



<hr class="hide">
<!-- 2008/01/10 start -->
<h2><a name="20080110" href="200801a.html#20080110">2008-01-10 (Thu)</a></h2>
<!-- 2008-01-11 02:34:34 -->

<div class="entry1">
<h3><a name="200801101" title="200801101" href="200801a.html#200801101">■</a> 
<a href="http://golf.shinh.org/p.rb?Dancing+Kids">[Golf] Dancing Kids</a></h3>
<p>
sed版をvimへ移植。<br>
ついでにsedの別解ができあがる。<br>
不思議なことにまったく違う方法なのに同じサイズに落ち着く。
</p>
<!-- section end -->
</div>
<!-- 2008/01/10 end -->

<hr>
<div>
<a href="200712c.html">&lt;Prev(,)</a> | 
<a href="200801b.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
