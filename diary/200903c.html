<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2009-3-c</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://jarp.does.notwork.org/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200903b.html">
<link rel="next" href="200904a.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2009年3月下旬〜</p>
<hr>
<div>
<a href="200903b.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200904a.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2009/03/21 start -->
<h2><a name="20090321" href="200903c.html#20090321">2009-03-21 (Sat)</a></h2>
<!-- 2009-03-22 01:56:24 -->

<div class="entry1">
<h3><a name="200903211" title="200903211" href="200903c.html#200903211">■</a> 
<a href="http://www.nicovideo.jp/watch/sm6448551">[ニコニコ動画] 【MikuMikuDance】小シ尺　一良β・闇の系言普【ならどうだ！】</a></h3>
<p>
まさかのMMD。ニコ動らしいといえばらしいが。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200903212" title="200903212" href="200903c.html#200903212">■</a> 
<a href="http://www.commandlinefu.com/commands/view/1502/add-calendar-to-desktop-wallpaper">[Command-line-fu] Add calendar to desktop wallpaper</a></h3>
<p>
これはUnixらしいone-linerだな。<br>
位置は下にしてcal -3で出して見るとなかなかいいかんじ。<br>
色をつけて祝日とかも表示できるようになるといいな。<br>
ちょっと考えよう。
</p>
<!-- section end -->
</div>
<!-- 2009/03/21 end -->



<hr class="hide">
<!-- 2009/03/22 start -->
<h2><a name="20090322" href="200903c.html#20090322">2009-03-22 (Sun)</a></h2>
<!-- 2009-03-23 01:45:18 -->

<div class="entry1">
<h3><a name="200903221" title="200903221" href="200903c.html#200903221">■</a> 
[PC] routerじゃなくてMULTIMEDIA HUBを買う</h3>
<p>
近所のヤマダに行ったらなぜか無線LAN routerしか置いてない。<br>
有線だけでいいのに。しょうがないのでふらふらしてたら、<br>
ヘッドフォンとスピーカを切り替えるスィッチを見つけたので買ってみた。<br>
いちいち抜くのが面倒なので。あと音量ボリュームがついてるのも意外と便利。<br>
PCのだと微調整できないんだよなあ。ヘッドフォンはちゃちいのでついてないし。
</p>

<p>
routerはamazonで買うか。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200903222" title="200903222" href="200903c.html#200903222">■</a> 
[Wellness] 万歩計 MK-365(LS)</h3>
<p>
ついでに万歩計を買った。万歩計は山佐の登録商標らしい。924円とえらく安い。<br>
今回のは日毎勝手にリセットはされない。<br>
自動リセットって便利なようだけどだんだん見なくなってしまって、<br>
なんのためにつけてるんだかよくわからなくなるという弊害あり。<br>
って、ひどいいいがかりだ。どこかに記録すればいいんだろうけど、<br>
だったらそのタイミングで手動リセットでいいわけで。
</p>
<!-- section end -->
</div>
<!-- 2009/03/22 end -->



<hr class="hide">
<!-- 2009/03/23 start -->
<h2><a name="20090323" href="200903c.html#20090323">2009-03-23 (Mon)</a></h2>
<!-- 2009-03-24 01:06:35 -->

<div class="entry1">
<h3><a name="200903231" title="200903231" href="200903c.html#200903231">■</a> 
<a href="http://sourceforge.jp/magazine/09/03/23/027211">[Soft] エンタープライズ機能を強化した「Subversion 1.6」 - SourceForge.JP Magazine</a></h3>
<blockquote><p>
最新版では、ツリー衝突の検出、認証管理の強化、レポジトリ容量の削減の3
つが大きな改善点となる。
</p></blockquote>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200903232" title="200903232" href="200903c.html#200903232">■</a> 
<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-list/45939">[Ruby] [ANN] nokogiri 1.2.3 リリース</a></h3>
<p>
たいやき→たこ焼→はっちゃん→アーロン→のこぎり!<br>
というONE PIECE流れで
<a href="http://twitter.com/eban/status/1374383470">今日</a>気づいたよ。
</p>


<!-- section end -->
</div>
<!-- 2009/03/23 end -->



<hr class="hide">
<!-- 2009/03/24 start -->
<h2><a name="20090324" href="200903c.html#20090324">2009-03-24 (Tue)</a></h2>
<!-- 2009-03-25 01:32:00 -->

<div class="entry1">
<h3><a name="200903241" title="200903241" href="200903c.html#200903241">■</a> 
<a href="http://posren.livedoor.com/comic/news.html">[Comic] コミックNEWS - DVDレンタルサービス ぽすれん</a></h3>
<p>
おお、ぽすれんも始めた。

<a href="http://www.discas.net/netdvd/stJManualComic.do?pT=0">DISCAS</a>より微妙に安いな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200903242" title="200903242" href="200903c.html#200903242">■</a> 
[壁紙] 壁紙にカレンダー</h3>
<p>
なんかすごいことになったよ。
</p>

<pre>
% convert -font '-misc-fixed-*-*-*-*-*-*-*-*-*-*-*-*' \
  -fill white -draw &quot;text 100,660 \&quot; `cal -3` \&quot;&quot; \
  -fill cyan -draw &quot;text 100,660 \&quot;`cal -3 |sed '1s/./ /g;s/.\{18\}\(..\)\(  \|$\)/                  \1\2/g'`\&quot;&quot; \
  -fill red -draw &quot;text 100,660 \&quot;`cal -3 |sed '1s/./ /g;s/\(..\).\{18\}\(  \|$\)/\1                  \2/g'`\&quot;&quot; \
  wallpaper.jpg  calendar.jpg
</pre>
<p>
最初にwhiteで全部、次にcyanで土曜日、最後にredで日曜日。<br>
土曜日の場合はこんな感じ。土曜日以外を空白で置き換えている。
</p>

<pre>
% cal -3 |sed '1s/./ /g;s/.\{18\}\(..\)\(  \|$\)/                  \1\2/g'
                                                                
                Sa                    Sa                    Sa  
                 7                     7                     4  
                14                    14                    11  
                21                    21                    18  
                28                    28                    25  
                                                                
                                                                
</pre>
<p>
最初は1日ごとに作らないといけないのかと思っていたけどそんなことしなくてもすんだ。<br>
あとは祝日だな。
</p>

<p>

<a href="http://eban.tumblr.com/post/89401025/cal-3">できあがり</a>
</p>
<!-- section end -->
</div>
<!-- 2009/03/24 end -->



<hr class="hide">
<!-- 2009/03/25 start -->
<h2><a name="20090325" href="200903c.html#20090325">2009-03-25 (Wed)</a></h2>
<!-- 2009-03-26 01:58:13 -->

<div class="entry1">
<h3><a name="200903251" title="200903251" href="200903c.html#200903251">■</a> 
[GNOME] GNOMEの背景</h3>
<p>
昨日の背景にカレンダーを埋め込む過程で気づいたんだけど、<br>
現在使われている背景の画像を差し替えると自動的に再読み込みする。<br>
ってことはcrontabで毎日実行すればいいわけだな。<br>
ついでに今日の日付けをgreenとか。<br>
今日の日付け抜き出しスクリプトを作らねば。
</p>
<!-- section end -->
</div>
<!-- 2009/03/25 end -->



<hr class="hide">
<!-- 2009/03/26 start -->
<h2><a name="20090326" href="200903c.html#20090326">2009-03-26 (Thu)</a></h2>
<!-- 2009-03-27 01:26:20 -->

<div class="entry1">
<h3><a name="200903261" title="200903261" href="200903c.html#200903261">■</a> 
[実験] w3mimgdisplay</h3>
<p>
w3mのインライン画像表示を直接呼び出してぐぐるのふぁびこんを<br>
gnome-terminal上で表示してみる実験。
</p>

<pre>
% wget https://google.com/favicon.ico
% echo -e '2;3;\n0;1;0;100;0;0;0;0;0;0;favicon.ico\n4\n3;' | \
  /usr/libexec/w3m/w3mimgdisplay;sleep 3
</pre>

<p>
謎の呪文の意味は以下。w3mimgdisplay.cから抜粋。
</p>

<pre>
w3mimg protocol
 0  1  2 ....
+--+--+--+--+ ...... +--+--+
|op|; |args             |\n|
+--+--+--+--+ .......+--+--+
 
args is separeted by ';'
op   args
 0;  params          draw image
 1;  params          redraw image
 2;  -none-          terminate drawing
 3;  -none-          sync drawing
 4;  -none-          nop, sync communication
                     response '\n'
 5;  path            get size of image,
                     response &quot;&lt;width&gt; &lt;height&gt;\n&quot;
 6;  params(6)       clear image
 
params
     &lt;n&gt;;&lt;x&gt;;&lt;y&gt;;&lt;w&gt;;&lt;h&gt;;&lt;sx&gt;;&lt;sy&gt;;&lt;sw&gt;;&lt;sh&gt;;&lt;path&gt;
params(6)
     &lt;x&gt;;&lt;y&gt;;&lt;w&gt;;&lt;h&gt;
</pre>

<p>
参考: 
<a href="http://www.mail-archive.com/mutt-users@mutt.org/msg34445.html">Re: w3mimgdisplay use?</a>
</p>
<!-- section end -->
</div>
<!-- 2009/03/26 end -->



<hr class="hide">
<!-- 2009/03/27 start -->
<h2><a name="20090327" href="200903c.html#20090327">2009-03-27 (Fri)</a></h2>
<!-- 2009-03-28 02:00:38 -->

<div class="entry1">
<h3><a name="200903271" title="200903271" href="200903c.html#200903271">■</a> 
[Calendar] 今日の日付けだけ残す</h3>
<p>
意外と面倒。思いついたのは当日を@に変換しといて後で戻すという方法。
</p>

<pre>
% today=`date +%e`
% cal -3|sed 's/^\(.\{21,\}\) '&quot;$today&quot;' \(.\{21,\}\)$/\1 @ \2/'|\
  tr -c '@\n' ' ' | sed s/@/&quot;$today&quot;/ |tr ' ' -
----------------------------------------------------------------
----------------------------------------------------------------
----------------------------------------------------------------
----------------------------------------------------------------
----------------------------------------------------------------
-------------------------------------27-------------------------
----------------------------------------------------------------
----------------------------------------------------------------
</pre>
<p>
空白だとわかりにくいので-に変換してみた。<br>
これでcrontabに登録できるな。<br>
いやcalの結果を加工するよりは直接Rubyかなんかで書いたほうがよさげ。
</p>

<p>
それはそれとして
<a href="http://gist.github.com/86777">cal.sh</a>を上げとこう。
</p>
<!-- section end -->
</div>
<!-- 2009/03/27 end -->



<hr class="hide">
<!-- 2009/03/28 start -->
<h2><a name="20090328" href="200903c.html#20090328">2009-03-28 (Sat)</a></h2>
<!-- 2009-03-29 02:04:54 -->

<div class="entry1">
<h3><a name="200903281" title="200903281" href="200903c.html#200903281">■</a> 
[Calendar] convertはDISPLAYが必要</h3>
<p>
で、実際に昨日のスクリプトをcrontab -eして登録してみたら、文句言われた。
</p>

<pre>
convert: unable to open X server `(null)': No such file or directory.
convert: unable to open X server `(null)': Success.
</pre>
<p>
見つからないと言ってるのはフォントだよな。どうしたもんかな。<br>
どうせいつも立ち上がってるからDISPLAY=:0.0で強制的に実行させるか。
</p>
<!-- section end -->
</div>
<!-- 2009/03/28 end -->



<hr class="hide">
<!-- 2009/03/29 start -->
<h2><a name="20090329" href="200903c.html#20090329">2009-03-29 (Sun)</a></h2>
<!-- 2009-03-30 01:15:15 -->

<div class="entry1">
<h3><a name="200903291" title="200903291" href="200903c.html#200903291">■</a> 
[freshmeat] いつのまにかfreshmeat.netがw3mで表示できなくなっていた</h3>
<p>
newsletterが来ないのでなんでと思ったら、最終通告がspam扱いされてた。<br>

<a href="http://freshmeat.net/articles/welcome-to-freshmeatnet-30">Welcome to freshmeat.net 3.0</a>
ってことらしいが、w3mで見れなくなったよ。改悪だよ。<br>
とりあえず、daily updateで我慢するか。
</p>
<!-- section end -->
</div>
<!-- 2009/03/29 end -->



<hr class="hide">
<!-- 2009/03/30 start -->
<h2><a name="20090330" href="200903c.html#20090330">2009-03-30 (Mon)</a></h2>
<!-- 2009-03-31 01:20:44 -->

<div class="entry1">
<h3><a name="200903301" title="200903301" href="200903c.html#200903301">■</a> 
[Ubuntu] Ubuntu 9.04Beta</h3>
<p>
VirtualBoxに入れたUbuntuをupdate-manager -dでUbuntu 9.04Betaに上げた。<br>
立ち上がりが速くなった。まだVirtualBoxのXのドライバがないのでvesaで。
</p>

<p>
それにしてもUbuntuのバージョンは覚えやすくていいね。<br>
でも4月に間に合わなかったらどうすんだろ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200903302" title="200903302" href="200903c.html#200903302">■</a> 
<a href="http://pngnq.sf.net/">[PNG] pngnq</a></h3>
<p>
なかなかきれいに減色してくれる。yumでinstallできる。<br>
今さらながらjarpのロゴをpngnqしてpngcrushしてみた。
</p>

<pre>
% ls -l jarp* 
-rw-r--r-- 1 eban eban  9238 2009-03-31 01:13 jarp-logo-nq8-pc.png
-rw-r--r-- 1 eban eban  9354 2009-03-31 01:13 jarp-logo-nq8.png
-rw-r--r-- 1 eban eban 17488 2005-04-09 02:32 jarp-logo.png
% file ja*
jarp-logo-nq8-pc.png: PNG image, 480 x 58, 8-bit colormap, non-interlaced
jarp-logo-nq8.png:    PNG image, 480 x 58, 8-bit colormap, non-interlaced
jarp-logo.png:        PNG image, 480 x 58, 8-bit/color RGB, non-interlaced
</pre>
<p>
結構小さくなるもんだな。
</p>
<!-- section end -->
</div>
<!-- 2009/03/30 end -->



<hr class="hide">
<!-- 2009/03/31 start -->
<h2><a name="20090331" href="200903c.html#20090331">2009-03-31 (Tue)</a></h2>
<!-- 2009-04-01 01:58:21 -->

<div class="entry1">
<h3><a name="200903311" title="200903311" href="200903c.html#200903311">■</a> 
[termtter] ねる。plugin</h3>
<p>
@twneruへねるって打つの面倒なのでpluginにした。
</p>

<pre>
# -*- coding: utf-8 -*-

module Termtter::Client
  register_macro(:neru, &quot;update @twneru ねる&quot;)
  register_macro(:okita, &quot;update @twneru おきた&quot;)
end
</pre>

<!-- section end -->
</div>
<!-- 2009/03/31 end -->

<hr>
<div>
<a href="200903b.html">&lt;Prev(,)</a> | 
<a href="200904a.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="https://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
