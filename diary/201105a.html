<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2011-5-a</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://jarp.does.notwork.org/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="201104c.html">
<link rel="next" href="201105b.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2011年5月上旬〜</p>
<hr>
<div>
<a href="201104c.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="201105b.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2011/05/01 start -->
<h2><a name="20110501" href="201105a.html#20110501">2011-05-01 (Sun)</a></h2>

<div class="entry1">
<h3><a name="201105011" title="201105011" href="201105a.html#201105011">■</a> 
<a href="http://www.cygwin.com/ml/cygwin-announce/2011-04/msg00015.html">Updated: gcc-mingw-{core/g++/g77/gdc/java/objc}-20050522-3; Obsoleted: gcc-mingw-gpc-20040810-3</a></h3>
<p>
いよいよgcc -mno-cygwinも終わりに近づいてるようだが、これはどうなの？<br>
この移行方法は問題ありすぎのような。
</p>
<!-- section end -->
</div>
<!-- 2011/05/01 end -->



<hr class="hide">
<!-- 2011/05/02 start -->
<h2><a name="20110502" href="201105a.html#20110502">2011-05-02 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201105021" title="201105021" href="201105a.html#201105021">■</a> 
デジアナ変換</h3>
<p>
最近アナログ放送に右上に「アナログ」じゃなくて「デジアナ変換」と表示されているのに気づいた。<br>
しかも枠内じゃなくて枠外に表示されているので、これはJ:COMの仕業に違いないと調べてみると、<br>
<a href="http://www.jcom.co.jp/services/tv/digiana.html">「デジアナ変換サービスのお知らせ」</a>というのが見つかった。<br>
なるほど。ということは2015年3月まではRD-H1も使えるわけだな。<br>
あ、ADAMSが使えなくなったときに切り替わったのか。
</p>
<!-- section end -->
</div>
<!-- 2011/05/02 end -->



<hr class="hide">
<!-- 2011/05/03 start -->
<h2><a name="20110503" href="201105a.html#20110503">2011-05-03 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201105031" title="201105031" href="201105a.html#201105031">■</a> 
output-screenlet</h3>
<p>
やっぱOutput Screenletがないと不便なので調べた。<br>
ppa:screenlets/ppaを追加して普通にoutput-screenletをインストールすればよかったようで。<br>
あっさり復活した。ついでにnetmon-screenletも入れてみたが、<br>
そういえばGNOMEのパネルにはなぜかネットワークモニターがないんだよなあ。
</p>
<!-- section end -->
</div>
<!-- 2011/05/03 end -->



<hr class="hide">
<!-- 2011/05/04 start -->
<h2><a name="20110504" href="201105a.html#20110504">2011-05-04 (Wed)</a></h2>

<div class="entry1">
<h3><a name="201105041" title="201105041" href="201105a.html#201105041">■</a> 
J:COMのデジアナ変換の質</h3>
<p>
J:COMのデジアナ変換だけど、動きの激しい場面になるとインターレースの縞模様が目立つ。<br>
改善されるかな。まあ、もう1台HDDレコーダーでも買えばいい話ではあるが。
</p>
<!-- section end -->
</div>
<!-- 2011/05/04 end -->



<hr class="hide">
<!-- 2011/05/05 start -->
<h2><a name="20110505" href="201105a.html#20110505">2011-05-05 (Thu)</a></h2>

<div class="entry1">
<h3><a name="201105051" title="201105051" href="201105a.html#201105051">■</a> 
PS3でいろいろコピー</h3>
<p>
△押したらコピーって出てきたのでやってみたら、内蔵HDDへコピーされた。<br>
そのファイルをまた△でコピーしたらUSB接続のHDDへコピーされた。<br>
そのUSB接続のHDDをPCへつないで見たら、<br>
音楽ファイルはMUSIC/、動画ファイルはVIDEO/にあった。<br>
というわけで、USBフラッシュとかもそういうディレクトリを掘って置いとけばPS3で再生できるわけだ。
</p>
<p>
問題なのはmencoderで作ったh264ファイルが再生できないこと。<br>
パラメータがわからんなあ。<br>
youtubeのflvファイルは
</p>
<pre>
% ffmpeg -i foo.flv -vcode copy -acodec copy foo.mp4
</pre>
<p>
で、大抵のファイルは再生できるようになる。これでいけると劣化もないし変換はあっという間なので楽。<br>
mkvも大抵はいける。
</p>
<!-- section end -->
</div>
<!-- 2011/05/05 end -->



<hr class="hide">
<!-- 2011/05/06 start -->
<h2><a name="20110506" href="201105a.html#20110506">2011-05-06 (Fri)</a></h2>

<div class="entry1">
<h3><a name="201105061" title="201105061" href="201105a.html#201105061">■</a> 
goo.glの履歴</h3>
<p>
goo.glで短かくすると履歴が見れる。<br>
apiを使うようにすればそれもいっしょに見れるようになるかと思ったら、<br>
別に集計されていた。なんで分けるかな。<br>
</p>
<p>
やっぱj.mpというかbit.lyが使いやすいな。<br>
なんかfc2をだめな子扱いしちゃうんでgoo.gl使うかと思ったんだが。<br>
あれ、すでにfc2の特別扱いはやめてるのか。じゃbit.lyでいいや。
</p>
<!-- section end -->
</div>
<!-- 2011/05/06 end -->



<hr class="hide">
<!-- 2011/05/07 start -->
<h2><a name="20110507" href="201105a.html#20110507">2011-05-07 (Sat)</a></h2>

<div class="entry1">
<h3><a name="201105071" title="201105071" href="201105a.html#201105071">■</a> 
<a href="http://www.commandlinefu.com/commands/view/8375/colored-cal-output">Colored cal output</a></h3>
<p>
これを試してみたら色がつかない。<br>
まあ、Ubuntuのcalだと最初から色というかハイライトになってるんでその影響かと思い、<br>
man calしてみると-hで消せるらしい。<br>
いや、標準出力がttyじゃなきゃそういうのやめてくれればいいんだけどねえ。<br>
</p>
<pre>
% cal|cat -v
      May 2011        
Su Mo Tu We Th Fr Sa  
 1  2  3  4  5  6 _^H _^H7  
 8  9 10 11 12 13 14  
15 16 17 18 19 20 21  
22 23 24 25 26 27 28  
29 30 31              

</pre>
<p>
なぜか_^Hとか余計なことしてくれるし。
</p>
<!-- section end -->
</div>
<!-- 2011/05/07 end -->



<hr class="hide">
<!-- 2011/05/08 start -->
<h2><a name="20110508" href="201105a.html#20110508">2011-05-08 (Sun)</a></h2>

<div class="entry1">
<h3><a name="201105081" title="201105081" href="201105a.html#201105081">■</a> 
MP3ファイルに画像を埋め込むことができるらしい</h3>
<p>
<a href="http://www.muzie.ne.jp/artist/a055568/">MUSIE</a>からダウンロードしたMP3ファイルをPS3で見たら画像が表示されてびっくりした。<br>
調べてみるとID3v2あたりには埋め込むことができるある。<br>
しかし、Linuxで扱えるソフトが見つからなかった。<br>
gemのruby-mp3infoだとAPICも扱えるようだな。<br>
これで試してみるか。
</p>
<!-- section end -->
</div>
<!-- 2011/05/08 end -->



<hr class="hide">
<!-- 2011/05/09 start -->
<h2><a name="20110509" href="201105a.html#20110509">2011-05-09 (Mon)</a></h2>

<div class="entry1">
<h3><a name="201105091" title="201105091" href="201105a.html#201105091">■</a> 
mp3infoで画像を埋め込む</h3>
<p>
gem install ruby-mp3infoして
</p>
<pre>
require 'rubygems'
require 'mp3info'

Mp3Info.open(&quot;foo.mp3&quot;) do |mp3|
  mp3.tag2[&quot;APIC&quot;] = [0, &quot;image/jpeg&quot;, 3, &quot;&quot;, File.read(&quot;foo.jpg&quot;)].pack(&quot;c Z* c Z* a*&quot;)
end
</pre>
<p>
程度で画像を埋め込むことはできたが、元々あったアーティスト名やタイトルが化けるようになってしまった。<br>
なんかID3v2.3とかID3v2.4ではUTF-16LEだのUTF-8だのと変わってたりで結構いやらしいね。<br>
もっとも普及してるのはID3v2.3ということなのでUTF-16にしないといかんのか？
</p>
<!-- section end -->
</div>
<!-- 2011/05/09 end -->



<hr class="hide">
<!-- 2011/05/10 start -->
<h2><a name="20110510" href="201105a.html#20110510">2011-05-10 (Tue)</a></h2>

<div class="entry1">
<h3><a name="201105101" title="201105101" href="201105a.html#201105101">■</a> 
mp3infoで文字化けしない指定</h3>
<p>
ソースを読むとmp3infoは強制的にiso-8859-1にしてしまうようだ。<br>
しかもこれもまた強制的になんだけどID3v2.3でしか書くことができないので、<br>
文字化けさせないようにするにはencodingとしてはutf-16を指定する必要がある。<br>
元々utf-16で書かれていれば以下のように:encoding=&gt;&quot;utf-16&quot;をopen時に指定すれば文字化けしなくなる。
</p>
<p>
<pre>
require 'rubygems'
require 'mp3info'

Mp3Info.open(&quot;foo.mp3&quot;, :encoding=&gt;&quot;utf-16&quot;) do |mp3|
  mp3.tag2[&quot;APIC&quot;] = [0, &quot;image/jpeg&quot;, 3, &quot;&quot;, File.read(&quot;foo.jpg&quot;)].pack(&quot;c Z* c Z* a*&quot;)
end
</pre>
</p>
<p>
PS3はID3v2.4にも対応してるようなので、mp3infoをちょっといじればID3v2.4で書けそうな気もする。
</p>
<!-- section end -->
</div>
<!-- 2011/05/10 end -->

<hr>
<div>
<a href="201104c.html">&lt;Prev(,)</a> | 
<a href="201105b.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="https://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
