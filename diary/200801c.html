<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2008-1-c</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://eban.github.io/jarp/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200801b.html">
<link rel="next" href="200802a.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2008年1月下旬〜</p>
<hr>
<div>
<a href="200801b.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200802a.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2008/01/21 start -->
<h2><a name="20080121" href="200801c.html#20080121">2008-01-21 (Mon)</a></h2>
<!-- 2008-01-22 02:30:25 -->

<div class="entry1">
<h3><a name="200801211" title="200801211" href="200801c.html#200801211">■</a> 
[Life] 乾電池の寿命</h3>
<p>
体重計がLoと表示するようになって乾電池の寿命を知る。<br>
ふと刻印を確認するとなんと09-2002だった。よくがんばった。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801212" title="200801212" href="200801c.html#200801212">■</a> 
[Firefox] Firefox 3 Beta 2</h3>
<p>
順調。特にGmailが快適になった。JavaScriptも最適化されたんかな。
</p>
<!-- section end -->
</div>
<!-- 2008/01/21 end -->



<hr class="hide">
<!-- 2008/01/22 start -->
<h2><a name="20080122" href="200801c.html#20080122">2008-01-22 (Tue)</a></h2>
<!-- 2008-01-23 01:18:12 -->

<div class="entry1">
<h3><a name="200801221" title="200801221" href="200801c.html#200801221">■</a> 
<a href="http://www.greasespot.net/2008/01/greasemonkey-security-update.html">[Firefox] Greasespot: Greasemonkey Security Update</a></h3>
<p>
上げたら動かないユーザスクリプトが出てきてちょっと困った。<br>
セキュリティ上の問題だから戻すわけにはいかないし。うーむ。
</p>
<!-- section end -->
</div>
<!-- 2008/01/22 end -->



<hr class="hide">
<!-- 2008/01/23 start -->
<h2><a name="20080123" href="200801c.html#20080123">2008-01-23 (Wed)</a></h2>
<!-- 2008-01-24 02:25:35 -->

<div class="entry1">
<h3><a name="200801231" title="200801231" href="200801c.html#200801231">■</a> 
[電車] 新型車両</h3>
<p>
京浜東北線の新型車両にやっと乗れた。座り心地さいこー。<br>
あまりの快適さに1分も経たずに熟睡。あやうく乗り過すところだった。
</p>
<!-- section end -->
</div>
<!-- 2008/01/23 end -->



<hr class="hide">
<!-- 2008/01/24 start -->
<h2><a name="20080124" href="200801c.html#20080124">2008-01-24 (Thu)</a></h2>
<!-- 2008-01-25 02:29:30 -->

<div class="entry1">
<h3><a name="200801241" title="200801241" href="200801c.html#200801241">■</a> 
[Golf] 新作多すぎ</h3>
<p>
まじで自重してくれ。
</p>

<p>
それはそれとして今日は
<a href="http://golf.shinh.org/p.rb?Phone+Key+Pad#vi">Phone Key Pad</a>をvimで解いてみた。<br>
tr()はなぜか関数でしか存在しないんだな。
</p>
<!-- section end -->
</div>
<!-- 2008/01/24 end -->



<hr class="hide">
<!-- 2008/01/25 start -->
<h2><a name="20080125" href="200801c.html#20080125">2008-01-25 (Fri)</a></h2>
<!-- 2008-01-26 02:52:44 -->

<div class="entry1">
<h3><a name="200801251" title="200801251" href="200801c.html#200801251">■</a> 
[Fedora8] Azureusが直った</h3>
<p>
今日の更新でAzureusが正常に立ち上がるようになった。<br>
しかしこのテーマには慣れない。いままでのシンプルなやつがいいんだがな。<br>
あ、表示のSearch BarとTab Barのチェックを外せばいいのか。
</p>
<!-- section end -->
</div>
<!-- 2008/01/25 end -->



<hr class="hide">
<!-- 2008/01/26 start -->
<h2><a name="20080126" href="200801c.html#20080126">2008-01-26 (Sat)</a></h2>
<!-- 2008-01-27 03:36:24 -->

<div class="entry1">
<h3><a name="200801261" title="200801261" href="200801c.html#200801261">■</a> 
<a href="http://golf.shinh.org/p.rb?Number+lines">[Golf] Number lines</a></h3>
<p>
Bash版。Bashといいつつもの実際はcatだのnlだのいろいろ組み合わせる必要あり。<br>
どちらも行番号が6桁の右詰めなのと区切りがタブなので置換しないといけない。<br>
nlのデフォルトは空行を無視するのでそのためのオプションが必要なので注意。
</p>

<pre>
% cat -n
% nl -ba
</pre>
<p>
と実は同じ長さ。しかし区切りを空白にすることを考えるとちょっとnlが有利。
</p>

<pre>
% cat -n|sed 's/ *//;s/I/ /'
% nl -ba -s\ |sed s/\ *//
</pre>
<p>
Iはタブ文字だと思ってくれ。というわけでnlとsedを使えば23Bでいける。<br>
まあ実際に登録してるのは全然違う方法だったりするわけだが。
</p>

<p>
awkで10Bだから16Bで登録してもいいんだけど、<br>
なんとなくそれは違うというか面白みがないというか。
</p>
<!-- section end -->
</div>
<!-- 2008/01/26 end -->



<hr class="hide">
<!-- 2008/01/27 start -->
<h2><a name="20080127" href="200801c.html#20080127">2008-01-27 (Sun)</a></h2>
<!-- 2008-01-28 02:40:59 -->

<div class="entry1">
<h3><a name="200801271" title="200801271" href="200801c.html#200801271">■</a> 
[Linux] 今年初の再起動</h3>
<p>
kernelも上がったことだし、今年初の再起動。
</p>

<pre>
% uptime
 00:15:52 up 32 days,  2:35,  1 user,  load average: 1.51, 1.65, 1.35
</pre>

<!-- section end -->
</div>
<!-- 2008/01/27 end -->



<hr class="hide">
<!-- 2008/01/28 start -->
<h2><a name="20080128" href="200801c.html#20080128">2008-01-28 (Mon)</a></h2>
<!-- 2008-01-29 01:32:52 -->

<div class="entry1">
<h3><a name="200801281" title="200801281" href="200801c.html#200801281">■</a> 
<a href="http://www.nicovideo.jp/tag/%E3%82%B9%E3%82%AD%E3%83%9E%E3%83%84%E3%82%A2%E3%83%BC">[ニコニコ動画] スキマツアー</a></h3>
<p>
27曲もあった。というか増え続けている。後からスクリプトは変更できるんだな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801282" title="200801282" href="200801c.html#200801282">■</a> 
[Gmail] 広告</h3>
<p>
なんかここ2,3日ぐりもんで広告が消えなくなってるけど、Gmailなんか変わった？
</p>
<!-- section end -->
</div>
<!-- 2008/01/28 end -->



<hr class="hide">
<!-- 2008/01/29 start -->
<h2><a name="20080129" href="200801c.html#20080129">2008-01-29 (Tue)</a></h2>
<!-- 2008-01-30 01:52:12 -->

<div class="entry1">
<h3><a name="200801291" title="200801291" href="200801c.html#200801291">■</a> 
[Golf] vim golf</h3>
<p>

<a href="http://golf.shinh.org/lranking.rb">ランキング</a>を見るとvi結構健闘してるな。<br>
平均はRubyやPerlと遜色ない。まあ、あんまり長いやつは把握できないから、<br>
最初から作らないという事情もあるが。
</p>
<!-- section end -->
</div>
<!-- 2008/01/29 end -->



<hr class="hide">
<!-- 2008/01/30 start -->
<h2><a name="20080130" href="200801c.html#20080130">2008-01-30 (Wed)</a></h2>
<!-- 2008-01-31 01:42:52 -->

<div class="entry1">
<h3><a name="200801301" title="200801301" href="200801c.html#200801301">■</a> 
<a href="http://golf.shinh.org/p.rb?reverse+entire+input">[Golf] reverse entire input</a></h3>
<p>
この問題のいやらしいところはSample Inputの3番目だけに改行があること。<br>
そこをどう料理するかが行でしか処理できない言語の腕の見せ所(vimとか)。<br>
Bashの場合だとtac|revでいいんじゃないかと思うが、revは
</p>

<pre>
% echo foo | rev | od -tx1z
0000000 6f 6f 66 0a                                      &gt;oof.&lt;
0000004
</pre>
<p>
のように反転はするが改行はそのままなのでまずい。<br>
最後の改行はあってもなくてもいいが、最初の改行の有無は厳密さが要求される。
</p>

<p>
ad-hocに対処するんだったらInputの3番目だけ最初に空行を入れればいい。<br>
幸い簡単に見分けがつくので
</p>

<pre>
tac|rev|sed '/6/i
'
</pre>
<p>
でいける。しかし締め切りの後にこれを思いつくなんて。登録したのは
</p>

<pre>
tr \\n N|rev|tr N \\n
</pre>
<p>
で改行を一時的に使われてない文字に置換して反転して戻すという単純な方法。
</p>
<!-- section end -->
</div>
<!-- 2008/01/30 end -->



<hr class="hide">
<!-- 2008/01/31 start -->
<h2><a name="20080131" href="200801c.html#20080131">2008-01-31 (Thu)</a></h2>
<!-- 2008-02-01 03:04:54 -->

<div class="entry1">
<h3><a name="200801311" title="200801311" href="200801c.html#200801311">■</a> 
[Gmail] Gmailの広告</h3>
<p>
不思議なことにGmailの広告がいつのまにかまた消えるようになってる。<br>
ぐりもんのユーザスクリプトはいじってないから、<br>
やはりGmail側でなにかあったんだろうな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200801312" title="200801312" href="200801c.html#200801312">■</a> 
<a href="http://golf.shinh.org/p.rb?Transpose#vi">[Golf] Transpose</a></h3>
<p>
vimで。
</p>

<pre>
a
h
o

bcdefg
ijklmn
pqrstu
</pre>
<p>
のように順番に左からばらしていって、空行を除いてjoinするという方法。<br>
ばらすときはCtrl+Vを使って右側のかたまりを下へ移動するイメージ。<br>
なんというか、vimならではだな。
</p>

<p>
あ、ってことはBashならcutでいいのか。
</p>

<pre>
m4&gt;q;for i in {1..12};do cut -b$i q|tr -d \\n;echo;done
</pre>

<!-- section end -->
</div>
<!-- 2008/01/31 end -->

<hr>
<div>
<a href="200801b.html">&lt;Prev(,)</a> | 
<a href="200802a.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
