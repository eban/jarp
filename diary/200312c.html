<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja-JP">
<head>
<title>Just another Ruby porter, 2003-12-c</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="nsmm v0.6.3.2(2005/08/18)">
<meta name="author" content="わたなべひろふみ">
<meta http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<link rel="stylesheet" href="../css/basic.css" type="text/css" media="all">
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<link rel="icon" type="image/png" href="../favicon.png">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://jarp.does.notwork.org/diary/index.rdf">
<link rev="made" href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">
<link rel="index" href="./">
<link rel="prev" href="200312b.html">
<link rel="next" href="200401a.html">

</head>
<body>
<div><h1><span>Just another Ruby porter,</span></h1></div>

<p>〜2003年12月下旬〜</p>
<hr>
<div>
<a href="200312b.html" accesskey=",">&lt;Prev(,)</a> | 
<a href="200401a.html" accesskey=".">Next(.)&gt;</a> | 
<a href="index.html" accesskey="/">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>

<!-- 2003/12/21 start -->
<h2><a name="20031221" href="200312c.html#20031221">2003-12-21 (Sun)</a></h2>

<div class="entry1">
<h3><a name="200312211" title="200312211" href="200312c.html#200312211">■</a> 
<a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/88581">[Ruby] replacing two EOL chars by one</a></h3>
<p>
で、3つ以上ある場合はどうしたいんだろう？
要するにcat -sか？
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312212" title="200312212" href="200312c.html#200312212">■</a> 
<a href="http://www.zsh.org/">[Soft] Zsh 4.0.9</a></h3>
<pre>
Changes: The changes since 4.0.7 are mostly bugfixes, with a few
additions to the completion function suite. (The differences between
4.0.8 and 4.0.9 are purely for compilation; if you have installed
4.0.8, there is no need to upgrade.) It is expected that this will
be the last 4.0 release. The next stable release will be
4.2.0. Users interested in upgrading may want to watch for the
forthcoming 4.1.2, which will form the basis of the 4.2 series.
</pre>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312213" title="200312213" href="200312c.html#200312213">■</a> 
<a href="ftp://kernel.org/pub/linux/kernel/people/rusty/modules/">[Linux] module-init-tools</a></h3>
<pre>
% CFLAGS=-Os ./configure --prefix=/
% make
% sudo make moveold
% sudo make install
</pre>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312214" title="200312214" href="200312c.html#200312214">■</a> 
[PC] kernelのmake時間</h3>
<p>
2.4.23のmake時間が2分50秒。2.6.0は3分10秒。うーむ。
これで好きなだけmakeができるな。しないけど。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312215" title="200312215" href="200312c.html#200312215">■</a> 
[Linux] Linux 2.6.0</h3>
<p>
というわけでLinux 2.6.0になった。
</p>
<!-- section end -->
</div>
<!-- 2003/12/21 end -->



<hr class="hide">
<!-- 2003/12/22 start -->
<h2><a name="20031222" href="200312c.html#20031222">2003-12-22 (Mon)</a></h2>

<div class="entry1">
<h3><a name="200312221" title="200312221" href="200312c.html#200312221">■</a> 
[Linux] intel8x0の音量調節</h3>
<p>
なぜか音量調節ができない。OSSでもALSAでも同じ。うーむ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312222" title="200312222" href="200312c.html#200312222">■</a> 
[Mail] spam</h3>
<p>
1日100通のペースを越えていたのに、今日気づいてみると2195通。
ちょっと減ったらしい。気休めにもならないが。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312223" title="200312223" href="200312c.html#200312223">■</a> 
[Soft] twoOStwo</h3>
<p>
Linux版はQtが必要ということで、即座にrmしてしまった。
どうせディスクは80GB+120GBもあるんだからけちることもないか。
</p>
<!-- section end -->
</div>
<!-- 2003/12/22 end -->



<hr class="hide">
<!-- 2003/12/23 start -->
<h2><a name="20031223" href="200312c.html#20031223">2003-12-23 (Tue)</a></h2>

<div class="entry1">
<h3><a name="200312231" title="200312231" href="200312c.html#200312231">■</a> 
[Linux] NIC</h3>
<p>
内蔵がカニNICだったので、増設するなら違うほうがいいだろうと、
Broadcomのチップを使った500円の怪しげなNICを差してみたが、
レジスタダンプしてカーネルパニックしてしまった。
</p>

<p>
余ってるカニNICを差してみると、
</p>
<pre>
irq 16: nobody cared!
Call Trace:
 [&lt;c010cf6a&gt;] __report_bad_irq+0x32/0x90
 [&lt;c010d040&gt;] note_interrupt+0x50/0x78
 [&lt;c010d2b8&gt;] do_IRQ+0xf0/0x178
 [&lt;c0105000&gt;] _stext+0x0/0x58
 [&lt;c010ba80&gt;] common_interrupt+0x18/0x20
 [&lt;c0105000&gt;] _stext+0x0/0x58
 [&lt;c0109049&gt;] default_idle+0x29/0x34
 [&lt;c01090cc&gt;] cpu_idle+0x30/0x40
 [&lt;c0105055&gt;] _stext+0x55/0x58
 [&lt;c02f07c2&gt;] start_kernel+0x19e/0x1a4

handlers:
[&lt;de86c190&gt;] (rtl8139_interrupt+0x0/0x168 [8139too])
Disabling IRQ #16
</pre>
<p>
とこれもまただめのようだ。
</p>

<p>
で、2.4.23で試したらカニでも大丈夫。うーむ。
特に2.6.0にする必要もないし、様子見かな。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312232" title="200312232" href="200312c.html#200312232">■</a> 
[Linux] サウンドカード</h3>
<p>
大掃除してたらサウンドカードが出てきた。
YAMAHAのchipらしい。
よくわからないので、とりあえずFedora Core 1に任せてみる。
YMF-724Fと認識された。/etc/modules.confを見るとymfpciらしい。
Plamoのほうでreconfigしてみたら、ちゃんと使えた。おお。音量調節もokだ。
</p>
<!-- section end -->
</div>
<!-- 2003/12/23 end -->



<hr class="hide">
<!-- 2003/12/24 start -->
<h2><a name="20031224" href="200312c.html#20031224">2003-12-24 (Wed)</a></h2>

<div class="entry1">
<h3><a name="200312241" title="200312241" href="200312c.html#200312241">■</a> 
<a href="http://bogofilter.sf.net/">[Soft] Bogofitler 0.15.11</a></h3>
<p>
configure.acを書き換えて、
PATHの変更を削除してgslがちゃんと見つかるようにしてみる。
</p>
<pre>
% ldd =bogofilter
        libdb-4.1.so =&gt; /usr/lib/libdb-4.1.so (0x4001e000)
        libgsl.so.0 =&gt; /usr/local/lib/libgsl.so.0 (0x400bb000)
        libgslcblas.so.0 =&gt; /usr/local/lib/libgslcblas.so.0 (0x401f3000)
        libm.so.6 =&gt; /lib/libm.so.6 (0x4021d000)
        libc.so.6 =&gt; /lib/libc.so.6 (0x4023e000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)
</pre>
<p>
で、挙動としては何が変わったかんだかよくわからんとこがだめだめだ。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312242" title="200312242" href="200312c.html#200312242">■</a> 
[Ruby] Ruby 1.8.1</h3>
<p>
03:47まで待ったがもう寝る。
</p>
<!-- section end -->
</div>
<!-- 2003/12/24 end -->



<hr class="hide">
<!-- 2003/12/25 start -->
<h2><a name="20031225" href="200312c.html#20031225">2003-12-25 (Thu)</a></h2>

<div class="entry1">
<h3><a name="200312251" title="200312251" href="200312c.html#200312251">■</a> 
[Ruby] Ruby 1.9</h3>
<p>
1.8.1の話などもう古いのだよ。時代は1.9だ。
ははは、はあ(あと1時間半ほど起きてれば。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312252" title="200312252" href="200312c.html#200312252">■</a> 
<a href="http://procps.sf.net/">[Soft] Procps 3.1.15</a></h3>
<pre>
hide kernel PID bug (Linux 2.4.13-pre1 to 2.4.MAX)
ps: faster threaded display
top: auto-margin problem
ps: support NSA SELinux, all builds, Linux 2.6+
sysctl: tweak man page for ESR's broken parser
</pre>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312253" title="200312253" href="200312c.html#200312253">■</a> 
[Net] ルータ</h3>
<p>
スイッチングハブを買おうと思ったが、
ブロードバンドルータが3900円だったので、
BUFFALOのBBR-4MGを買ってみた。LAN側は4ポートあるので代わりに使える。
これでNICを増設しなくてもいいことになってしまったわけで、
カニNIC問題はもうどうでもいいや。
無線は使うつもりはないので、これで十分。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312254" title="200312254" href="200312c.html#200312254">■</a> 
<a href="http://www.vmware.com/">[Linux] VMware 4.0.5</a></h3>
<p>
3.2.0からやっと上げた。$99か。Order Confirmationはすぐ来たのに、
シリアルナンバーがなかなか来なくてあせる。
以前のメールを調べると2通ほとんど同時に来ていた。
もしやと思いprocmailのログを見るとbogofilterがspamと認識していた。
ぐはぁ。
</p>

<p>
Order Confirmationもspamicity=0.945217なので危なかった。
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312255" title="200312255" href="200312c.html#200312255">■</a> 
[Mail] spam</h3>
<p>
クリスマスのせいかspamも少ない。
</p>
<!-- section end -->
</div>
<!-- 2003/12/25 end -->



<hr class="hide">
<!-- 2003/12/26 start -->
<h2><a name="20031226" href="200312c.html#20031226">2003-12-26 (Fri)</a></h2>

<div class="entry1">
<h3><a name="200312261" title="200312261" href="200312c.html#200312261">■</a> 
<a href="http://cygwin.com/ml/cygwin-announce/2003-12/msg00019.html">[Cygwin] Updated: ruby-1.8.1-1</a></h3>
<p>
早くもCygwinのRubyパッケージは1.8.1になった。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312262" title="200312262" href="200312c.html#200312262">■</a> 
<a href="http://www.openbsd.org/">[VMware] OpenBSD 3.4</a></h3>
<p>
VMware 4.0.5上でいつものようにOtherを選んで、
floppy34.fsをフロッピーのイメージとして設定し、
インストールを進めたら、なぜかディスクがないと言われてしまった。
IDEがあるはずなんだけどなあ。
どうしても認識してくれないので、SCSIに設定してインストール。
うーむ。なぜだ？
</p>

<!-- section end -->
</div>

<div class="entry1">
<h3><a name="200312263" title="200312263" href="200312c.html#200312263">■</a> 
初雪</h3>
<p>
26:50にふと外を見ると雨が雪になっていた。
</p>
<!-- section end -->
</div>
<!-- 2003/12/26 end -->



<hr class="hide">
<!-- 2003/12/27 start -->
<h2><a name="20031227" href="200312c.html#20031227">2003-12-27 (Sat)</a></h2>

<div class="entry1">
<h3><a name="200312271" title="200312271" href="200312c.html#200312271">■</a> 
忘年会</h3>
<p>
そういえば今年は禁止項目が多かったということで。
</p>

<!-- section end -->
</div>

<div class="entry0">
<h3><a name="200312272" title="200312272" href="200312c.html#200312272">■</a> 
<a href="http://jarp.jin.gr.jp/win32/">[Win32] readline 4.3-2</a></h3>
<p>
buffer overrunの件を修正して、うささんの協力の下リリース。
<a href="http://arton.no-ip.info/diary/20031227.html#p03">Thanks artonさん。</a>別件はこちらも再現しないので様子見。
</p>
<!-- section end -->
</div>
<!-- 2003/12/27 end -->



<hr class="hide">
<!-- 2003/12/28 start -->
<h2><a name="20031228" href="200312c.html#20031228">2003-12-28 (Sun)</a></h2>

<div class="entry1">
<h3><a name="200312281" title="200312281" href="200312c.html#200312281">■</a> 
<a href="http://www.sleepycat.com/">[Soft] Berkeley DB 4.2.52</a></h3>
<p>
./configure --helpしてみたら--enable-mingwを発見。
</p>
<pre>
% mkdir build_mingw32; cd build_mingw32
% CC='i686-pc-cygwin-gcc -mno-cygwin' \
  CXX='i686-pc-cygwin-g++ -mno-cygwin' CFLAGS=-Os CXXFLAGS=-Os \
  ../dist/configure --enable-compat185 --enable-mingw \
  --target=i386-mingw32 --host=i686-pc-cygwin
  --build=i686-pc-linux-gnu
</pre>
<p>
でいいかなと思ったらcygdb-4.2.dllという名前でDLLを作ってしまいよろしくない。
host osで決めちゃうからだな。
i686-pc-mingw32-*を用意して--host=i686-pc-mingw32としよう。
これだとDLLは作ってくれない。ドキュメントをgrepしてみたら、
docs/ref/build_win/faq.htmlが見つかった。
</p>
<pre>
5. How can I build Berkeley DB for MinGW?

   Follow the instructions in Building for UNIX/POSIX, and specify
   the --enable-mingw option to the configuration script. This
   configuration option currently only builds static versions of the
   library, it does not yet build a DLL version of the library.
</pre>
<p>
まだ対応してないわけか。
</p>
<!-- section end -->
</div>
<!-- 2003/12/28 end -->



<hr class="hide">
<!-- 2003/12/29 start -->
<h2><a name="20031229" href="200312c.html#20031229">2003-12-29 (Mon)</a></h2>

<div class="entry1">
<h3><a name="200312291" title="200312291" href="200312c.html#200312291">■</a> 
<a href="http://raa.ruby-lang.org/project/bdb/">[Ruby] bdb 0.5.0</a></h3>
<p>
更新。いつのまにかmswin32対応が入っているので
<a href="200304a.html#200304031">小細工</a>は不要。
それはいいんだけどextconf.rbで
</p>
<pre>
_,lib_dir = dir_config(&quot;db&quot;, &quot;/usr/include&quot;, &quot;/usr/lib&quot;)
</pre>
<p>
という記述があるため、クロスでmakeするときは
--with-db-dir=/some/whereのような指定をしないと
-I/usr/includeがMakefileに追加されてしまい非常にまずいことになる。
</p>
<!-- section end -->
</div>
<!-- 2003/12/29 end -->



<hr class="hide">
<!-- 2003/12/30 start -->
<h2><a name="20031230" href="200312c.html#20031230">2003-12-30 (Tue)</a></h2>

<div class="entry1">
<h3><a name="200312301" title="200312301" href="200312c.html#200312301">■</a> 
<a href="http://www.python.org/">[Soft] Python 2.3.3</a></h3>
<p>
久し振りに更新した。python -hの最後に表示される環境変数の説明が興味深い。
</p>
<pre>
PYTHONSTARTUP: file executed on interactive startup (no default)
PYTHONPATH   : ':'-separated list of directories prefixed to the
               default module search path.  The result is sys.path.
PYTHONHOME   : alternate &lt;prefix&gt; directory (or &lt;prefix&gt;:&lt;exec_prefix&gt;).
               The default module search path uses &lt;prefix&gt;/pythonX.X.
PYTHONCASEOK : ignore case in 'import' statements (Windows).
</pre>
<p>
prefixを変更できるのか。
</p>
<!-- section end -->
</div>
<!-- 2003/12/30 end -->



<hr class="hide">
<!-- 2003/12/31 start -->
<h2><a name="20031231" href="200312c.html#20031231">2003-12-31 (Wed)</a></h2>

<div class="entry1">
<h3><a name="200312311" title="200312311" href="200312c.html#200312311">■</a> 
[Ruby] ri</h3>
<p>
現在のCVS版なら
</p>
<pre>
% rdoc --ri --all *.c
</pre>
<p>
で~/.rdocにriが読める形式でインストールできる。
</p>
<pre>
% rdoc --ri --all -R *.c
</pre>
<p>
なら$prefix/share/ri/&lt;ver&gt;/siteへインストールされる。
全部だと
</p>
<pre>
% rdoc --ri --all -R *.c lib/**/*.rb ext/**/lib/*.rb
</pre>
<p>
って感じかな。
</p>
<!-- section end -->
</div>
<!-- 2003/12/31 end -->

<hr>
<div>
<a href="200312b.html">&lt;Prev(,)</a> | 
<a href="200401a.html">Next(.)&gt;</a> | 
<a href="index.html">Recent(/)&gt;&gt;</a>
| <a href="index.rdf">RDF</a>
</div>

<hr>
<!-- SiteSearch Google -->
<form method=GET action="http://www.google.co.jp/search">
<p>
<input type=text name=q size=31 maxlength=255 value="">
<input type=hidden name=hl value="ja">
<input type=hidden name=ie value="UTF-8">
<input type=submit name=btnG value="Google 検索">
<input type=hidden name=domains value="jarp.does.notwork.org"><br>
<input type=radio name=sitesearch value=""> WWW を検索
<input type=radio name=sitesearch value="jarp.does.notwork.org" checked> jarp.does.notwork.org を検索 <br>
</form>

<!-- nsmm v0.6.3.2(2005/08/18) -->

<address><a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3A;&#101;&#98;&#x61;&#110;&#64;&#x6F;&#x73;&#x2E;&#x72;&#105;&#109;&#46;&#x6F;&#x72;&#x2E;&#106;&#x70;">わたなべひろふみ</a><br>
Key fingerprint = C456 1350 085F A320 C6C8  8A36 0F15 9B2E EB12 3885<br>
      <a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-html401"
          alt="Valid HTML 4.01!" height="16" width="88"></a>

<script type="text/javascript" src="http://trackfeed.com/usr/aa7471e560.js"></script>
</address>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
<!--
_uacct = "UA-101613-1";
urchinTracker();
// -->
</script>
<script src="title.js" type="text/javascript">
</script>
</body>
</html>
